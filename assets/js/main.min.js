window.jpi=window.jpi||{},window.jpi.expandImage=function(){"use strict";var e=0,t={},n=$(".expanded-image-slide-show"),i=function(n){$(".expanded-image-slide-show__bullets .slide-show__bullet:eq("+e+")").removeClass("active"),e=n,e>=t.length?e=0:e<0&&(e=t.length-1);var i=$(".expanded-image.current"),o=$(".expanded-image:not(.current)");o.attr("src",t[e].src),i.removeClass("current"),o.addClass("current"),$(".expanded-image-counter__current").text((e+1).toString()),$(".expanded-image-slide-show__bullets .slide-show__bullet:eq("+e+")").addClass("active")},o=function(){i(e+1)},s=function(){i(e-1)},r=function(){n.removeClass("active").addClass("hiding"),setTimeout(function(){document.body.style.overflow="auto",n.removeClass("hiding")},990),jpi.slideShow.loopThroughSlideShows(jpi.slideShow.startSlideShow),$(".expanded-image-slide-show__bullets").text("")},a=function(i){var o=$(".expanded-image.current");jpi.slideShow.loopThroughSlideShows(jpi.slideShow.stopSlideShow),n.addClass("active"),o.attr("src",i.target.src).show(),document.body.style.overflow="hidden";var s=$(i.target).attr("data-slide-colour"),r=$(i.target).data("slideShowId");t=$(r+" .slide");for(var a=0;a<t.length;a++)t[a]===i.target&&(e=a),jpi.helpers.createElement($(".expanded-image-slide-show__bullets")[0],"label",{"class":"slide-show__bullet js-expanded-image-bullet slide-show__bullet--"+s,"data-slide-id":a});$(".expanded-image-counter__current").text((e+1).toString()),$(".expanded-image-counter__total").text(t.length),t.length>1?$(".expanded-image-slide-show__nav-previous, .expanded-image-slide-show__nav-previous, .expanded-image-slide-show__bullets").show():$(".expanded-image-slide-show__nav-previous, .expanded-image-slide-show__nav-previous, .expanded-image-slide-show__bullets").hide();var l=new RegExp("slide-show__nav--\\w*","g");$(".expanded-image-slide-show .slide-show__nav").each(function(){var e=$(this).attr("class");e=e.replace(l,"slide-show__nav--"+s),$(this).attr("class",e)}),$(".expanded-image-slide-show__bullets .slide-show__bullet:eq("+e+")").addClass("active"),$(".modal--detailed-project").removeClass("open").hide(),setTimeout(function(){o.attr("src",""),o.attr("src",i.target.src)},1e3)},l=function(){$("body").on("click",".js-expandable-image",a),$("body").on("click",".js-expanded-image-bullet",function(e){i(parseInt($(e.target).data("slideId")))}),$(".expanded-image-slide-show__close").click(r),$(".expanded-image-slide-show__nav-next").click(o),$(".expanded-image-slide-show__nav-previous").click(s)};$(document).on("ready",l)}(),window.jpi=window.jpi||{},window.jpi.slideShow=function(){"use strict";var e={},t=function(e){e.css("transitionDuration","2s")},n=function(e){var t=e.innerWidth()*e.children().first().children().length;e.children().first().css("width",t+"px")},i=function(e){var i=$("#"+e+" .slide-show__slides-container"),o=$("#"+e+" .slide-show__viewpoint"),s=$("#"+e+" .slide-show__slide-container.active");n(o),i.children().css("width",$("#"+e).innerWidth()+"px");var r=s.position();i.css({transitionDuration:"0s",left:"-"+r.left+"px"}),setTimeout(t,100,i)},o=function(t){$("#"+t+" .slide-show__slides-container").children().length>1&&(e["#"+t]=setInterval(function(){d("#"+t,"next")},5e3))},s=function(t){clearInterval(e["#"+t])},r=function(e){var t,n=$(".hasSlideShow");for(t=0;t<n.length;t++)e(n[t].id)},a=function(){var e=setInterval(r,10,i);setTimeout(function(){clearInterval(e)},1e3)},l=function(n,i){var o=$(n+" .slide-show__slides-container");if(clearInterval(e[n]),t(o),"#slide-show--projects-preview"==n){var s=i.filter(".slide-show__slide-container").attr("data-slide-colour"),r=new RegExp("slide-show__nav--\\w*","g");$(n+" .slide-show__nav").each(function(){var e=$(this).attr("class");e=e.replace(r,"slide-show__nav--"+s),$(this).attr("class",e)})}$(n+" .active").removeClass("active");var a=i.position();i.addClass("active");var l=i[0].id;o.css("left","-"+a.left+"px"),$(n+" .slide-show__bullet[data-slide-id="+l+"]").addClass("active"),e[n]=setInterval(function(){d(n,"next")},5e3)},d=function(e,t){var n,i=$(e+" .active");n="next"===t?i.next().length>0?i.next():i.parent().children().first():i.prev().length>0?i.prev():i.parent().children().last(),l(e,n)},c=function(){var e=$(this).data("slideShowId"),t=$(this).data("slideId"),n=$(e+" #"+t);l(e,n)},u=function(n){var i=$(n+" .slide-show__slide-container.active").position(),o=$(n+" .slide-show__slides-container");o.css({transitionDuration:"0s",left:"-"+i.left+"px"}),setTimeout(t,100,o),e[n]=setInterval(function(){d(n,"next")},5e3)},h=function(t){var n=$(this).data("slideShowId"),i=t.changedTouches?t.changedTouches[0].clientX:t.clientX,o=$(n+" .slide-show__slides-container"),s=o.css("left"),r=$(n+" .slide-show__viewpoint"),a=function(e){var t=i-(e.changedTouches?e.changedTouches[0].clientX:e.clientX),n=parseInt(s);n||(n=0),o.css({transitionDuration:"0s",left:n-t+"px"})},l=function(e){var t=e.changedTouches?e.changedTouches[0].clientX:e.clientX;i-t>15?d(n,"next"):i-t<-15?d(n,"previous"):u(n),r[0].removeEventListener("touchmove",a),r[0].removeEventListener("touchend",l),r[0].removeEventListener("mousemove",a),r[0].removeEventListener("mouseup",l),r[0].removeEventListener("mouseleave",c)},c=function(){u(n),r[0].removeEventListener("touchmove",a),r[0].removeEventListener("touchend",l),r[0].removeEventListener("mousemove",a),r[0].removeEventListener("mouseup",l),r[0].removeEventListener("mouseleave",c)};clearInterval(e[n]),r[0].addEventListener("touchmove",a),r[0].addEventListener("touchend",l),r[0].addEventListener("mousemove",a),r[0].addEventListener("mouseup",l),r[0].addEventListener("mouseleave",c)},p=function(e){var t=$(e+" .slide-show__viewpoint"),i=$(e+" .slide-show__slide-container");$(e).addClass("hasSlideShow").show(),n(t),i.length>1?(i.css("width",t.innerWidth()+"px"),$(e+" .js-move-slide, "+e+" .js-slide-show-bullets").show(),setTimeout(function(){l(e,i.first())},100),t[0].addEventListener("mousedown",h),t[0].addEventListener("touchstart",h)):$(e+" .js-move-slide, "+e+" .js-slide-show-bullets").hide()},f=function(){$(window).on("orientationchange resize",a),$("body").on("click",".js-slide-show-bullet",c),$("body").on("click",".js-move-slide",function(){d($(this).data("slideShowId"),$(this).data("navDirection"))}),$("body").on("dragstart",".slide",!1)};return $(document).on("ready",f),{setUp:p,dragStart:h,loopThroughSlideShows:r,stopSlideShow:s,startSlideShow:o}}(),window.jpi=window.jpi||{},window.jpi.helpers=function(e){"use strict";var t=function(e){return""===e.value.trim()?(e.classList.add("invalid"),e.classList.remove("valid"),!1):(e.classList.remove("invalid"),e.classList.add("valid"),!0)},n=function(e,t,n){var i=document.createElement(t);for(var o in n)n.hasOwnProperty(o)&&("innerHTML"===o?i[o]=n[o]:i.setAttribute(o,n[o]));return e.appendChild(i),i};return{checkInputField:t,createElement:n}}(jQuery),window.jpi=window.jpi||{},window.jpi.ajax=function(){"use strict";var e=function(e,t,n){(e||n)&&t(e||n)},t=function(t,n,i,o){var s;if(t.rows&&t.rows.length>0){for(s=0;s<t.rows.length;s++)t.rows.hasOwnProperty(s)&&n(t.rows[s]);return!0}return e(t.meta.feedback,i,o),!1},n=function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+=t+"="+encodeURIComponent(e[t])+"&",n=n.replace("%20","+"),n=n.replace("%3D","="));return n.slice(0,-1)},i=function(e){var t=new XMLHttpRequest;e.query&&"file"!==e.data&&(e.query=n(e.query),"POST"!==e.method&&(e.url+="?"+e.query)),t.open(e.method,e.url,!0),t.setRequestHeader("Accept","application/json"),e.query&&"POST"===e.method&&"file"!==e.data&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.addEventListener("load",function(){if(this&&""!==this.responseText)try{var t=JSON.parse(this.responseText);e.load(t)}catch(n){e.error("Error Loading Content.")}else e.error("Error Loading Content.")}),t.addEventListener("error",function(){e.error("Error Loading Content.")}),t.send(e.query)};return{loopThroughData:t,sendRequest:i}}(),window.jpi=window.jpi||{},window.jpi.projects=function(){"use strict";var e=new URL(window.location),t=function(e){$(".feedback--error").text(e).show("fast"),$(".projects-loading-img, .pagination").text("").hide("fast"),jpi.footer.delayExpand()},n=function(e,t){for(var n=e.Skills.split(","),i=$(t+" .project__skills")[0],o=0;o<n.length;o++)if(""!==n[o].trim())for(var s=jpi.helpers.createElement(i,"p",{innerHTML:n[o],"class":"js-searchable-skill skill skill--"+e.Colour}),r=$(".search-input")[0].value.split(" "),a=0;a<r.length;a++)""!==r[a].trim()&&n[o].toLowerCase().includes(r[a].toLowerCase())&&(s.className+=" searched")},i=function(e,t){var n=$(t+" .project__links")[0];e.Link&&jpi.helpers.createElement(n,"a",{href:e.Link,title:"Link to "+e.Name+" Site",target:"_blank",innerHTML:"<i class='fa fa-external-link fa-2x'></i>","class":"project__link project__link--"+e.Colour}),e.Download&&jpi.helpers.createElement(n,"a",{href:e.Download,title:"Link to Download "+e.Name,target:"_blank",innerHTML:"<i class='fa fa-download fa-2x'></i>","class":"project__link project__link--"+e.Colour}),jpi.helpers.createElement(n,"a",{href:e.GitHub,title:"Link to "+e.Name+"  Code On GitHub",target:"_blank",innerHTML:"<i class='fa fa-github fa-2x'></i>","class":"project__link project__link--"+e.Colour})},o=function(e,t){for(var n=$(t+" .slide-show__slides-container"),i=$(t+" .js-slide-show-bullets"),o=0;o<e.pictures.length;o++)if(e.pictures.hasOwnProperty(o)){var s=jQuery("#tmpl-slide-template").text(),r=jQuery("#tmpl-slide-bullet-template").text();for(var a in e.pictures[o])if(e.pictures[o].hasOwnProperty(a)&&"string"==typeof a){var l=new RegExp("{{"+a+"}}","g");s=s.replace(l,e.pictures[o][a]),r=r.replace(l,e.pictures[o][a])}var d=new RegExp("{{Colour}}","g");s=s.replace(d,e.Colour),r=r.replace(d,e.Colour);var c=new RegExp("{{Slide-Show-ID}}","g");r=r.replace(c,t),n.append(s),i.append(r)}e.pictures.length>0&&jpi.slideShow.setUp(t)},s=function(){var e=$(this).data("projectData");$(".modal--detailed-project").addClass("open").show(),document.body.style.overflow="hidden",jpi.slideShow.loopThroughSlideShows(jpi.slideShow.stopSlideShow),$(".modal--detailed-project .project__links, .modal--detailed-project .project__skills, .modal--detailed-project .slide-show__slides-container, .modal--detailed-project .js-slide-show-bullets").text(""),$(".modal--detailed-project .project-title").text(e.Name),$(".modal--detailed-project .project-date").text(e.Date),n(e,".modal--detailed-project"),$(".modal--detailed-project .description").html(e.LongDescription),i(e,".modal--detailed-project"),o(e,"#detailed-project__slide-show");var t=new RegExp("slide-show__nav--\\w*","g");$(".modal--detailed-project .slide-show__nav").each(function(){var n=$(this).attr("class");n=n.replace(t,"slide-show__nav--"+e.Colour),$(this).attr("class",n)})},r=function(e){!$(e.target).closest(".modal__content").length&&$(".modal--detailed-project").hasClass("open")&&($(".modal--detailed-project").removeClass("open").hide(),document.body.style.overflow="auto",$("#detailed-project__slide-show .slide-show__viewpoint")[0].removeEventListener("mousedown",jpi.slideShow.dragStart),$("#detailed-project__slide-show .slide-show__viewpoint")[0].removeEventListener("touchstart",jpi.slideShow.dragStart),$("#detailed-project__slide-show .slide-show__slides-container").css("left","0px"),clearInterval(autoSlide["#detailed-project__slide-show"]),$("#detailed-project__slide-show").removeClass("hasSlideShow"),jpi.slideShow.loopThroughSlideShows(jpi.slideShow.startSlideShow))},a=function(e){if(!document.getElementById("project--"+e.ID)){var t=jQuery("#tmpl-project-template").text();for(var s in e)if(e.hasOwnProperty(s)&&"string"==typeof s){var r=new RegExp("{{"+s+"}}","g");t=t.replace(r,e[s])}$(".projects").append(t),n(e,"#project--"+e.ID),i(e,"#project--"+e.ID),o(e,"#slide-show--"+e.ID),$("#project--"+e.ID+" .js-open-modal").data("projectData",e)}jpi.footer.delayExpand()},l=function(){$("html, body").animate({scrollTop:jQuery(".projects").offset().top-jQuery(".nav").height()},2e3)},d=function(t){if(parseInt(t)>10){var n=1,i=$(".pagination")[0],o=e.pathname.substring(1).split("/");if(Number.isInteger(parseInt(o[1])))var s=parseInt(o[1]);s||(s=1);for(var r=0;r<t;r+=10,n++){var a={innerHTML:n,"class":"pagination__item"};n===s&&(a["class"]+=" active"),jpi.helpers.createElement(i,"li",a)}$(".pagination").show()}else $(".pagination").hide()},c=function(e){$(".feedback--error, .projects-loading-img").text("").hide("fast"),$(".projects, .pagination").text(""),jpi.ajax.loopThroughData(e,a,t,"No Projects Found."),e.count&&d(e.count),jpi.footer.delayExpand()},u=function(e){jpi.slideShow.loopThroughSlideShows(jpi.slideShow.stopSlideShow),$(".projects-loading-img").show("fast"),jpi.ajax.sendRequest({method:"GET",url:"/admin/api/1/projects/",query:e,load:c,error:t})},h=function(){var t={};return e.pathname="/projects/",""!==$(".search-input")[0].value.trim()?(e.search="?search="+$(".search-input")[0].value,t.search=$(".search-input")[0].value):$(".search-input")[0].value=e.search="",history.pushState(null,null,e.toString()),u(t),!1},p=function(){for(var t=e.search.substring(1).split("&"),n=/\bsearch=/im,i=0;i<t.length;i++){var o=n.test(t[i]);if(o){var s=t[i].split("=");return decodeURIComponent(s[1])}}},f=function(){var t={},n=e.pathname.substring(1).split("/");n[1]&&Number.isInteger(parseInt(n[1]))&&(t.page=parseInt(n[1]));var i=p();i?t.search=$(".search-input")[0].value=i:$(".search-input").val(""),u(t)},v=function(){$(".search-form").on("submit",h),$("body").on("click",".js-searchable-skill",function(e){$(".search-input")[0].value=e.target.innerHTML,h()}),$(".pagination--projects").on("click",".pagination__item",function(t){l(),e.pathname="/projects/"+t.target.innerHTML+"/",history.pushState(null,null,e.toString()),f()}),$(".projects").on("click",".js-open-modal",s),window.addEventListener("popstate",function(){e=new URL(window.location),l(),f()}),$(".modal--detailed-project").on("click",r)},w=function(){$(".projects").length>0&&(v(),f())};$(document).on("ready",w)}(),window.jpi=window.jpi||{},window.jpi.home=function(){"use strict";var e=function(e){$(".feedback--error").text(e).show("fast"),$(".projects-loading-img").hide("fast"),jpi.footer.delayExpand()},t=function(e){var t=$("#tmpl-slide-template").text(),n=$("#tmpl-slide-bullet-template").text();for(var i in e)if(e.hasOwnProperty(i)&&"string"==typeof i){var o=new RegExp("{{"+i+"}}","g");t=t.replace(o,e[i]),n=n.replace(o,e[i])}var s=new RegExp("{{File}}","g");t=t.replace(s,e.pictures[0].File),$(".slide-show__slides-container").append(t),$(".js-slide-show-bullets").append(n);var r=$("#slide--"+e.ID+" .project-description__links")[0];e.Link&&jpi.helpers.createElement(r,"a",{href:e.Link,innerHTML:"<i class='fa fa-external-link fa-2x'></i>","class":"btn btn--clear",target:"_blank"}),jpi.helpers.createElement(r,"a",{href:e.GitHub,innerHTML:"<i class='fa fa-github fa-2x'></i>","class":"btn btn--clear",target:"_blank"})},n=function(n){$(".feedback--error, .projects-loading-img").text("").hide("fast");var i=jpi.ajax.loopThroughData(n,t,e,"Error Getting the Projects.");i&&jpi.slideShow.setUp("#slide-show--projects-preview"),jpi.footer.delayExpand()},i=function(){$("#slide-show--projects-preview").length>0&&($(".projects-loading-img").show("fast"),jpi.ajax.sendRequest({method:"GET",url:"/admin/api/1/projects/",query:{limit:3},load:n,error:e}))};$(document).on("ready",i)}(),window.jpi=window.jpi||{},window.jpi.form=function(){"use strict";var e=$("#submit"),t=$("#email-input"),n=$("#message-input"),i=$("#subject-input"),o=$("#email-feedback"),s=$("#message-feedback"),r=$("#form-feedback"),a=function(t){r.show("fast").text(t.feedback),t.ok?(r.addClass("feedback--success"),$("#email-input, #message-input, #subject-input").val("")):(t.feedback&&r.addClass("feedback--error"),t.messageFeedback&&s.show("fast").text(t.messageFeedback),t.emailAddressFeedback&&o.show("fast").text(t.emailAddressFeedback)),e.prop("disabled",!1).html(e.data("initialText"))},l=function(){r.show("fast").text("Something went wrong, please try again later.").addClass("feedback--error"),e.prop("disabled",!1).html(e.data("initialText"))},d=function(){e.prop("disabled",!0).html(e.data("loadingText"));var o=u(n.val(),!0),s=c(t.val(),!0);return s&&o?jpi.ajax.sendRequest({method:"POST",url:"sendMessage.php",query:{emailAddress:t.val(),message:n.val(),subject:i.val()},load:a,error:l}):e.prop("disabled",!1).html(e.data("initialText")),!1},c=function(e,n){r.hide("fast"),t.removeClass("valid");var i=/\b[\w._-]+@[\w-]+.[\w]{2,}\b/im,s=i.test(e);if(""===e.trim()&&n)t.addClass("invalid"),o.show("fast").text("Email Address must be provided and valid.");else if(!s&&n)t.addClass("invalid"),o.show("fast").text("Email Address must be valid.");else if(""!==e.trim()&&s)return t.removeClass("invalid"),t.addClass("valid"),o.hide("fast"),!0;return!1},u=function(e,t){return r.hide("fast"),n.removeClass("valid"),""===e.trim()&&t?(n.addClass("invalid"),s.show("fast").text("Message must be filled out."),!1):""!==e.trim()?(n.removeClass("invalid"),n.addClass("valid"),s.hide("fast"),!0):void 0},h=function(){i.keyup(function(){r.hide("fast")}),t.on("input",function(){c(this.value)}),n.on("input",function(){u(this.value)}),$(".contact-form").on("submit",d)};$(document).on("ready",h)}(),window.jpi=window.jpi||{},window.jpi.footer=function(){"use strict";var e=function(){$("section").height("auto");var e=$("header").outerHeight(!0)+$("section").outerHeight(!0)+$("footer").outerHeight(!0);e<$(window).height()&&$("section").height($(window).height()-e+$("section").height())},t=function(){var t=setInterval(e,100);setTimeout(function(){clearInterval(t)},2500)},n=function(){$(window).on("load orientationchange resize",e)};return $(document).on("ready",n),{delayExpand:t}}(),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},t=[].slice;!function(e,t){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(n){return t(n,e)}):t(e.jQuery,e)}(this,function(n,i){var o,s,r,a,l,d,c,u,h,p,f,v,w,m,g,$;return o=n(i),u=e.call(i,"ontouchstart")>=0,a={horizontal:{},vertical:{}},l=1,c={},d="waypoints-context-id",f="resize.waypoints",v="scroll.waypoints",w=1,m="waypoints-waypoint-ids",g="waypoint",$="waypoints",s=function(){function e(e){var t=this;this.$element=e,this.element=e[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()},this.waypoints={horizontal:{},vertical:{}},e.data(d,this.id),c[this.id]=this,e.bind(v,function(){var e;if(!t.didScroll&&!u)return t.didScroll=!0,e=function(){return t.doScroll(),t.didScroll=!1},i.setTimeout(e,n[$].settings.scrollThrottle)}),e.bind(f,function(){var e;if(!t.didResize)return t.didResize=!0,e=function(){return n[$]("refresh"),t.didResize=!1},i.setTimeout(e,n[$].settings.resizeThrottle)})}return e.prototype.doScroll=function(){var e,t=this;return e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!u||e.vertical.oldScroll&&e.vertical.newScroll||n[$]("refresh"),n.each(e,function(e,i){var o,s,r;return r=[],s=i.newScroll>i.oldScroll,o=s?i.forward:i.backward,n.each(t.waypoints[e],function(e,t){var n,o;return i.oldScroll<(n=t.offset)&&n<=i.newScroll?r.push(t):i.newScroll<(o=t.offset)&&o<=i.oldScroll?r.push(t):void 0}),r.sort(function(e,t){return e.offset-t.offset}),s||r.reverse(),n.each(r,function(e,t){if(t.options.continuous||e===r.length-1)return t.trigger([o])})}),this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.refresh=function(){var e,t,i,o=this;return i=n.isWindow(this.element),t=this.$element.offset(),this.doScroll(),e={horizontal:{contextOffset:i?0:t.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:t.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?n[$]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(e,function(e,t){return n.each(o.waypoints[e],function(e,i){var o,s,r,a,l;if(o=i.options.offset,r=i.offset,s=n.isWindow(i.element)?0:i.$element.offset()[t.offsetProp],n.isFunction(o)?o=o.apply(i.element):"string"==typeof o&&(o=parseFloat(o),i.options.offset.indexOf("%")>-1&&(o=Math.ceil(t.contextDimension*o/100))),i.offset=s-t.contextOffset+t.contextScroll-o,(!i.options.onlyOnScroll||null==r)&&i.enabled)return null!==r&&r<(a=t.oldScroll)&&a<=i.offset?i.trigger([t.backward]):null!==r&&r>(l=t.oldScroll)&&l>=i.offset?i.trigger([t.forward]):null===r&&t.oldScroll>=i.offset?i.trigger([t.forward]):void 0})})},e.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([f,v].join(" ")),delete c[this.id]},e}(),r=function(){function e(e,t,i){var o,s;i=n.extend({},n.fn[g].defaults,i),"bottom-in-view"===i.offset&&(i.offset=function(){var e;return e=n[$]("viewportHeight"),n.isWindow(t.element)||(e=t.$element.height()),e-n(this).outerHeight()}),this.$element=e,this.element=e[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=t,this.enabled=i.enabled,this.id="waypoints"+w++,this.offset=null,this.options=i,t.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,o=null!=(s=e.data(m))?s:[],o.push(this.id),e.data(m,o)}return e.prototype.trigger=function(e){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,e),this.options.triggerOnce?this.destroy():void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},e.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},e.getWaypointsByElement=function(e){var t,i;return(i=n(e).data(m))?(t=n.extend({},a.horizontal,a.vertical),n.map(i,function(e){return t[e]})):[]},e}(),p={init:function(e,t){var i;return null==t&&(t={}),null==(i=t.handler)&&(t.handler=e),this.each(function(){var e,i,o,a;return e=n(this),o=null!=(a=t.context)?a:n.fn[g].defaults.context,n.isWindow(o)||(o=e.closest(o)),o=n(o),i=c[o.data(d)],i||(i=new s(o)),new r(e,i,t)}),n[$]("refresh"),this},disable:function(){return p._invoke(this,"disable")},enable:function(){return p._invoke(this,"enable")},destroy:function(){return p._invoke(this,"destroy")},prev:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t>0)return e.push(n[t-1])})},next:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t<n.length-1)return e.push(n[t+1])})},_traverse:function(e,t,o){var s,r;return null==e&&(e="vertical"),null==t&&(t=i),r=h.aggregate(t),s=[],this.each(function(){var t;return t=n.inArray(this,r[e]),o(s,t,r[e])}),this.pushStack(s)},_invoke:function(e,t){return e.each(function(){var e;return e=r.getWaypointsByElement(this),n.each(e,function(e,n){return n[t](),!0})}),this}},n.fn[g]=function(){var e,i;return i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],p[i]?p[i].apply(this,e):n.isFunction(i)?p.init.apply(this,arguments):n.isPlainObject(i)?p.init.apply(this,[null,i]):i?n.error("The "+i+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")},n.fn[g].defaults={context:i,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return n.each(c,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return null!=(e=i.innerHeight)?e:o.height()},aggregate:function(e){var t,i,o;return t=a,e&&(t=null!=(o=c[n(e).data(d)])?o.waypoints:void 0),t?(i={horizontal:[],vertical:[]},n.each(i,function(e,o){return n.each(t[e],function(e,t){return o.push(t)}),o.sort(function(e,t){return e.offset-t.offset}),i[e]=n.map(o,function(e){return e.element}),i[e]=n.unique(i[e])}),i):[]},above:function(e){return null==e&&(e=i),h._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){return null==e&&(e=i),h._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){return null==e&&(e=i),h._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){return null==e&&(e=i),h._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(e,t){return p[e]=t},_invoke:function(e){var t;return t=n.extend({},a.vertical,a.horizontal),n.each(t,function(t,n){return n[e](),!0})},_filter:function(e,t,i){var o,s;return(o=c[n(e).data(d)])?(s=[],n.each(o.waypoints[t],function(e,t){if(i(o,t))return s.push(t)}),s.sort(function(e,t){return e.offset-t.offset}),n.map(s,function(e){return e.element})):[]}},n[$]=function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],h[n]?h[n].apply(null,e):h.aggregate.call(null,n)},n[$].settings={resizeThrottle:100,scrollThrottle:30},o.load(function(){return n[$]("refresh")})})}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e,t){return e.toFixed(t.decimals)}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,this.dataOptions(),i),this.init()};n.DEFAULTS={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:t,onUpdate:null,onComplete:null},n.prototype.init=function(){this.value=this.options.from,this.loops=Math.ceil(this.options.speed/this.options.refreshInterval),this.loopCount=0,this.increment=(this.options.to-this.options.from)/this.loops},n.prototype.dataOptions=function(){var e={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")},t=Object.keys(e);for(var n in t){var i=t[n];"undefined"==typeof e[i]&&delete e[i]}return e},n.prototype.update=function(){this.value+=this.increment,this.loopCount++,this.render(),"function"==typeof this.options.onUpdate&&this.options.onUpdate.call(this.$element,this.value),this.loopCount>=this.loops&&(clearInterval(this.interval),this.value=this.options.to,"function"==typeof this.options.onComplete&&this.options.onComplete.call(this.$element,this.value))},n.prototype.render=function(){var e=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(e)},n.prototype.restart=function(){this.stop(),this.init(),this.start()},n.prototype.start=function(){this.stop(),this.render(),this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)},n.prototype.stop=function(){this.interval&&clearInterval(this.interval)},n.prototype.toggle=function(){this.interval?this.stop():this.start()},e.fn.countTo=function(t){return this.each(function(){var i=e(this),o=i.data("countTo"),s=!o||"object"==typeof t,r="object"==typeof t?t:{},a="string"==typeof t?t:"start";s&&(o&&o.stop(),i.data("countTo",o=new n(this,r))),o[a].call(o)})}}),window.jpi=window.jpi||{},window.jpi.main=function(){"use strict";var e=function(e){var t=$(this);e=$.extend({},e||{},t.data("countToOptions")||{}),t.countTo(e)},t=function(){var t=$(".counter");t.length>0&&$(".counter").waypoint(function(){$(".counter").each(e)},{offset:"100%"})},n=function(){var e=$(".nav__links-container");if(e.toggleClass("closed"),e.toggleClass("opening"),e[0].clientHeight)e[0].style.height=0;else{var t=$(".nav__links")[0];e[0].style.height=t.clientHeight+"px"}setTimeout(function(){e.toggleClass("opening")},670),$(".nav").toggleClass("opened")},i=function(){if($(window).width()>768){var e=$(".nav__links-container");e[0].style.height="",e.addClass("closed"),$(".nav").removeClass("opened"),e.removeClass("opening")}},o=function(e){$(e.target).closest(".nav").length||$(".nav__links-container").hasClass("closed")||"none"===$(".nav__links__toggle").css("display")||$(".nav__links__toggle").trigger("click")},s=function(){var e=$(".nav").height(),t=$(window).scrollTop()+e,n=$(window).height();t>=n?$(".nav").addClass("scrolled"):$(".nav").removeClass("scrolled")},r=function(){$("html, body").animate({scrollTop:$("section").offset().top-$(".nav").height()},1e3)},a=function(){var e=$(this).children(".label__more_content"),t=$(this).children(".label__expand-icon");$(".label__more_content").not(e).slideUp(),$(".label__expand-icon").not(t).addClass("fa-plus").removeClass("fa-minus"),t.toggleClass("fa-plus"),t.toggleClass("fa-minus"),e.slideToggle(),$(this).toggleClass("expanded-label"),$(".js-expand-label").not(this).removeClass("expanded-label")},l=function(){var e=$(".js-seconds-on-site");e.length>0&&setTimeout(function(){setInterval(function(){var t=e.text();t=parseInt(t),e.text(t+1)},1e3)},1e3)},d=function(){$(document).on("click",o),$(".nav__links__toggle").on("click",n),$(window).on("orientationchange resize",i),$(window).on("scroll",s),$(".js-scroll-to-content").on("click",r),$(".js-expand-label").on("click",a)},c=function(){d(),t(),l()};$(document).on("ready",c)}();