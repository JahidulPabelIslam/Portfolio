"use strict";var currentSlide=0,slides={},expandedImageDivContainer=$(".expanded-image-slide-show"),changeElement=function(e){$(".expanded-image-slide-show__bullets .slide-show__bullet:eq("+currentSlide+")").removeClass("active"),currentSlide=e,currentSlide>=slides.length?currentSlide=0:currentSlide<0&&(currentSlide=slides.length-1);var t=$(".expanded-image.current"),n=$(".expanded-image:not(.current)");n.attr("src",slides[currentSlide].src),t.removeClass("current"),n.addClass("current"),$(".expanded-image-counter__current").text((currentSlide+1).toString()),$(".expanded-image-slide-show__bullets .slide-show__bullet:eq("+currentSlide+")").addClass("active")},next=function(){changeElement(currentSlide+1)},previous=function(){changeElement(currentSlide-1)},close=function(){expandedImageDivContainer.removeClass("active").addClass("hiding"),setTimeout(function(){document.body.style.overflow="auto",expandedImageDivContainer.removeClass("hiding")},990),loopThroughSlideShows(startSlideShow),$(".expanded-image-slide-show__bullets").text("")},expandImageSetUp=function(e){var t=$(".expanded-image.current");loopThroughSlideShows(stopSlideShow),expandedImageDivContainer.addClass("active"),t.attr("src",e.target.src).show(),document.body.style.overflow="hidden";var n=$(e.target).attr("data-slide-colour"),i=$(e.target).data("slideShowId");slides=$(i+" .slide");for(var o=0;o<slides.length;o++)slides[o]===e.target&&(currentSlide=o),createElement($(".expanded-image-slide-show__bullets")[0],"label",{"class":"slide-show__bullet js-expanded-image-bullet slide-show__bullet--"+n,"data-slide-id":o});$(".expanded-image-counter__current").text((currentSlide+1).toString()),$(".expanded-image-counter__total").text(slides.length),slides.length>1?$(".expanded-image-slide-show__nav-previous, .expanded-image-slide-show__nav-previous, .expanded-image-slide-show__bullets").show():$(".expanded-image-slide-show__nav-previous, .expanded-image-slide-show__nav-previous, .expanded-image-slide-show__bullets").hide();var r=new RegExp("slide-show__nav--\\w*","g");$(".expanded-image-slide-show .slide-show__nav").each(function(){var e=$(this).attr("class");e=e.replace(r,"slide-show__nav--"+n),$(this).attr("class",e)}),$(".expanded-image-slide-show__bullets .slide-show__bullet:eq("+currentSlide+")").addClass("active"),$(".modal--detailed-project").removeClass("open").hide(),setTimeout(function(){t.attr("src",""),t.attr("src",e.target.src)},1e3)};$(document).on("ready",function(){$("body").on("click",".js-expandable-image",expandImageSetUp),$("body").on("click",".js-expanded-image-bullet",function(e){changeElement(parseInt($(e.target).data("slideId")))}),$(".expanded-image-slide-show__close").click(close),$(".expanded-image-slide-show__nav-next").click(next),$(".expanded-image-slide-show__nav-previous").click(previous)});var autoSlide={},resetTransition=function(e){e.css("transitionDuration","2s")},widenSlideShow=function(e){var t=e.innerWidth()*e.children().first().children().length;e.children().first().css("width",t+"px")},repositionSlides=function(e){var t=$("#"+e+" .slide-show__slides-container"),n=$("#"+e+" .slide-show__viewpoint"),i=$("#"+e+" .slide-show__slide-container.active");widenSlideShow(n),t.children().css("width",$("#"+e).innerWidth()+"px");var o=i.position();t.css({transitionDuration:"0s",left:"-"+o.left+"px"}),setTimeout(resetTransition,100,t)},startSlideShow=function(e){$("#"+e+" .slide-show__slides-container").children().length>1&&(autoSlide["#"+e]=setInterval(function(){moveSlide("#"+e,"next")},5e3))},stopSlideShow=function(e){clearInterval(autoSlide["#"+e])},loopThroughSlideShows=function(e){var t,n=$(".hasSlideShow");for(t=0;t<n.length;t++)e(n[t].id)},fixSlides=function(){var e=setInterval(loopThroughSlideShows,10,repositionSlides);setTimeout(function(){clearInterval(e)},1e3)},moveToSlide=function(e,t){var n=$(e+" .slide-show__slides-container");if(clearInterval(autoSlide[e]),resetTransition(n),"#slide-show--projects-preview"==e){var i=t.filter(".slide-show__slide-container").attr("data-slide-colour"),o=new RegExp("slide-show__nav--\\w*","g");$(e+" .slide-show__nav").each(function(){var e=$(this).attr("class");e=e.replace(o,"slide-show__nav--"+i),$(this).attr("class",e)})}$(e+" .active").removeClass("active");var r=t.position();t.addClass("active");var s=t[0].id;n.css("left","-"+r.left+"px"),$(e+" .slide-show__bullet[data-slide-id="+s+"]").addClass("active"),autoSlide[e]=setInterval(function(){moveSlide(e,"next")},5e3)},moveSlide=function(e,t){var n,i=$(e+" .active");n="next"===t?i.next().length>0?i.next():i.parent().children().first():i.prev().length>0?i.prev():i.parent().children().last(),moveToSlide(e,n)},changeToSlide=function(){var e=$(this).data("slideShowId"),t=$(this).data("slideId"),n=$(e+" #"+t);moveToSlide(e,n)},resetToCurrentSlide=function(e){var t=$(e+" .slide-show__slide-container.active").position(),n=$(e+" .slide-show__slides-container");n.css({transitionDuration:"0s",left:"-"+t.left+"px"}),setTimeout(resetTransition,100,n),autoSlide[e]=setInterval(function(){moveSlide(e,"next")},5e3)},dragStart=function(e){var t=$(this).data("slideShowId"),n=e.changedTouches?e.changedTouches[0].clientX:e.clientX,i=$(t+" .slide-show__slides-container"),o=i.css("left"),r=$(t+" .slide-show__viewpoint"),s=function(e){var t=n-(e.changedTouches?e.changedTouches[0].clientX:e.clientX),r=parseInt(o);r||(r=0),i.css({transitionDuration:"0s",left:r-t+"px"})},a=function(e){var i=e.changedTouches?e.changedTouches[0].clientX:e.clientX;n-i>15?moveSlide(t,"next"):n-i<-15?moveSlide(t,"previous"):resetToCurrentSlide(t),r[0].removeEventListener("touchmove",s),r[0].removeEventListener("touchend",a),r[0].removeEventListener("mousemove",s),r[0].removeEventListener("mouseup",a),r[0].removeEventListener("mouseleave",l)},l=function(){resetToCurrentSlide(t),r[0].removeEventListener("touchmove",s),r[0].removeEventListener("touchend",a),r[0].removeEventListener("mousemove",s),r[0].removeEventListener("mouseup",a),r[0].removeEventListener("mouseleave",l)};clearInterval(autoSlide[t]),r[0].addEventListener("touchmove",s),r[0].addEventListener("touchend",a),r[0].addEventListener("mousemove",s),r[0].addEventListener("mouseup",a),r[0].addEventListener("mouseleave",l)},setUpSlideShow=function(e){var t=$(e+" .slide-show__viewpoint"),n=$(e+" .slide-show__slide-container");$(e).addClass("hasSlideShow").show(),widenSlideShow(t),n.length>1?(n.css("width",t.innerWidth()+"px"),$(e+" .js-move-slide, "+e+" .js-slide-show-bullets").show(),setTimeout(function(){moveToSlide(e,n.first())},100),t[0].addEventListener("mousedown",dragStart),t[0].addEventListener("touchstart",dragStart)):$(e+" .js-move-slide, "+e+" .js-slide-show-bullets").hide()};$(document).on("ready",function(){$(window).on("orientationchange resize",fixSlides),$("body").on("click",".js-slide-show-bullet",changeToSlide),$("body").on("click",".js-move-slide",function(){moveSlide($(this).data("slideShowId"),$(this).data("navDirection"))}),$("body").on("dragstart",".slide",!1)});var checkInputField=function(e){return""===e.value.trim()?(e.classList.add("invalid"),!1):(e.classList.remove("invalid"),!0)},createElement=function(e,t,n){var i=document.createElement(t);for(var o in n)n.hasOwnProperty(o)&&("innerHTML"===o?i[o]=n[o]:i.setAttribute(o,n[o]));return e.appendChild(i),i},checkFeedback=function(e,t,n){(e||n)&&t(e||n)},loopThroughData=function(e,t,n,i){var o;if(e.rows&&e.rows.length>0){for(o=0;o<e.rows.length;o++)e.rows.hasOwnProperty(o)&&t(e.rows[o]);return!0}return checkFeedback(e.meta.feedback,n,i),!1},encodePayload=function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+=t+"="+encodeURIComponent(e[t])+"&",n=n.replace("%20","+"),n=n.replace("%3D","="));return n.slice(0,-1)},sendRequest=function(e){var t=new XMLHttpRequest;e.query&&"file"!==e.data&&(e.query=encodePayload(e.query),"POST"!==e.method&&(e.url+="?"+e.query)),t.open(e.method,e.url,!0),t.setRequestHeader("Accept","application/json"),e.query&&"POST"===e.method&&"file"!==e.data&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.addEventListener("load",function(){if(this&&""!==this.responseText)try{var t=JSON.parse(this.responseText);e.load(t)}catch(n){e.error("Error Loading Content.")}else e.error("Error Loading Content.")}),t.addEventListener("error",function(){e.error("Error Loading Content.")}),t.send(e.query)},url=new URL(window.location),renderError=function(e){$(".feedback--error").text(e).show("fast"),$(".projects-loading-img, .pagination").text("").hide("fast"),delayExpand()},addSkills=function(e,t){for(var n=e.Skills.split(","),i=$(t+" .project__skills")[0],o=0;o<n.length;o++)if(""!==n[o].trim())for(var r=createElement(i,"p",{innerHTML:n[o],"class":"js-searchable-skill skill skill--"+e.Colour}),s=$(".search-input")[0].value.split(" "),a=0;a<s.length;a++)""!==s[a].trim()&&n[o].toLowerCase().includes(s[a].toLowerCase())&&(r.className+=" searched")},addLinks=function(e,t){var n=$(t+" .project__links")[0];e.Link&&createElement(n,"a",{href:e.Link,title:"Link to "+e.Name+" Site",target:"_blank",innerHTML:"<i class='fa fa-external-link fa-2x'></i>","class":"project__link project__link--"+e.Colour}),e.Download&&createElement(n,"a",{href:e.Download,title:"Link to Download "+e.Name,target:"_blank",innerHTML:"<i class='fa fa-download fa-2x'></i>","class":"project__link project__link--"+e.Colour}),createElement(n,"a",{href:e.GitHub,title:"Link to "+e.Name+"  Code On GitHub",target:"_blank",innerHTML:"<i class='fa fa-github fa-2x'></i>","class":"project__link project__link--"+e.Colour})},addProjectPictures=function(e,t){for(var n=$(t+" .slide-show__slides-container"),i=$(t+" .js-slide-show-bullets"),o=0;o<e.pictures.length;o++)if(e.pictures.hasOwnProperty(o)){var r=jQuery("#tmpl-slide-template").text(),s=jQuery("#tmpl-slide-bullet-template").text();for(var a in e.pictures[o])if(e.pictures[o].hasOwnProperty(a)&&"string"==typeof a){var l=new RegExp("{{"+a+"}}","g");r=r.replace(l,e.pictures[o][a]),s=s.replace(l,e.pictures[o][a])}var d=new RegExp("{{Colour}}","g");r=r.replace(d,e.Colour),s=s.replace(d,e.Colour);var c=new RegExp("{{Slide-Show-ID}}","g");s=s.replace(c,t),n.append(r),i.append(s)}e.pictures.length>0&&setUpSlideShow(t)},renderProject=function(e){if(!document.getElementById("project--"+e.ID)){var t=jQuery("#tmpl-project-template").text();for(var n in e)if(e.hasOwnProperty(n)&&"string"==typeof n){var i=new RegExp("{{"+n+"}}","g");t=t.replace(i,e[n])}$(".projects").append(t),addSkills(e,"#project--"+e.ID),addLinks(e,"#project--"+e.ID),addProjectPictures(e,"#slide-show--"+e.ID),$("#project--"+e.ID+" .js-open-modal").data("projectData",e)}delayExpand()},scrollToProjects=function(){$("html, body").animate({scrollTop:jQuery(".projects").offset().top-jQuery(".nav").height()},2e3)},addPagination=function(e){if(parseInt(e)>10){var t=1,n=$(".pagination")[0],i=url.pathname.substring(1).split("/");if(Number.isInteger(parseInt(i[1])))var o=parseInt(i[1]);o||(o=1);for(var r=0;r<e;r+=10,t++){var s={innerHTML:t,"class":"pagination__item"};t===o&&(s["class"]+=" active"),createElement(n,"li",s)}$(".pagination").show()}else $(".pagination").hide()},gotProjects=function(e){$(".feedback--error, .projects-loading-img").text("").hide("fast"),$(".projects, .pagination").text(""),loopThroughData(e,renderProject,renderError,"No Projects Found."),e.count&&addPagination(e.count),delayExpand()},getProjects=function(e){loopThroughSlideShows(stopSlideShow),$(".projects-loading-img").show("fast"),sendRequest({method:"GET",url:"/admin/api/1/projects/",query:e,load:gotProjects,error:renderError})},doSearch=function(){var e={};return url.pathname="/projects/",""!==$(".search-input")[0].value.trim()?(url.search="?search="+$(".search-input")[0].value,e.search=$(".search-input")[0].value):$(".search-input")[0].value=url.search="",history.pushState(null,null,url.toString()),getProjects(e),!1},getSearch=function(){for(var e=url.search.substring(1).split("&"),t=/\bsearch=/im,n=0;n<e.length;n++){var i=t.test(e[n]);if(i){var o=e[n].split("=");return decodeURIComponent(o[1])}}},load=function(){var e={},t=url.pathname.substring(1).split("/");t[1]&&Number.isInteger(parseInt(t[1]))&&(e.page=parseInt(t[1]));var n=getSearch();n?e.search=$(".search-input")[0].value=n:$(".search-input").val(""),getProjects(e)},setUp=function(){$(".projects").length>0&&($(".search-form").submit(doSearch),load(),$("body").on("click",".js-searchable-skill",function(e){$(".search-input")[0].value=e.target.innerHTML,doSearch()}),$(".pagination--projects").on("click",".pagination__item",function(e){scrollToProjects(),url.pathname="/projects/"+e.target.innerHTML+"/",history.pushState(null,null,url.toString()),load()}),$(".projects").on("click",".js-open-modal",function(){var e=$(this).data("projectData");$(".modal--detailed-project").addClass("open").show(),document.body.style.overflow="hidden",loopThroughSlideShows(stopSlideShow),$(".modal--detailed-project .project__links, .modal--detailed-project .project__skills, .modal--detailed-project .slide-show__slides-container, .modal--detailed-project .js-slide-show-bullets").text(""),$(".modal--detailed-project .project-title").text(e.Name),$(".modal--detailed-project .project-date").text(e.Date),addSkills(e,".modal--detailed-project"),$(".modal--detailed-project .description").html(e.LongDescription),addLinks(e,".modal--detailed-project"),addProjectPictures(e,"#detailed-project__slide-show");var t=new RegExp("slide-show__nav--\\w*","g");$(".modal--detailed-project .slide-show__nav").each(function(){var n=$(this).attr("class");n=n.replace(t,"slide-show__nav--"+e.Colour),$(this).attr("class",n)})}))};window.addEventListener("load",setUp),window.addEventListener("popstate",function(){url=new URL(window.location),scrollToProjects(),load()}),$(".modal--detailed-project").click(function(e){!$(e.target).closest(".modal__content").length&&$(".modal--detailed-project").hasClass("open")&&($(".modal--detailed-project").removeClass("open").hide(),document.body.style.overflow="auto",$("#detailed-project__slide-show .slide-show__viewpoint")[0].removeEventListener("mousedown",dragStart),$("#detailed-project__slide-show .slide-show__viewpoint")[0].removeEventListener("touchstart",dragStart),$("#detailed-project__slide-show .slide-show__slides-container").css("left","0px"),clearInterval(autoSlide["#detailed-project__slide-show"]),$("#detailed-project__slide-show").removeClass("hasSlideShow"),loopThroughSlideShows(startSlideShow))});var renderProjectsPreviewError=function(e){$(".feedback--error").text(e).show("fast"),$(".projects-loading-img").hide("fast"),delayExpand()},renderProjectPreview=function(e){var t=jQuery("#tmpl-slide-template").text(),n=jQuery("#tmpl-slide-bullet-template").text();for(var i in e)if(e.hasOwnProperty(i)&&"string"==typeof i){var o=new RegExp("{{"+i+"}}","g");t=t.replace(o,e[i]),n=n.replace(o,e[i])}var r=new RegExp("{{File}}","g");t=t.replace(r,e.pictures[0].File),$(".slide-show__slides-container").append(t),$(".js-slide-show-bullets").append(n);var s=$("#slide--"+e.ID+" .project-description__links")[0];e.Link&&createElement(s,"a",{href:e.Link,innerHTML:"<i class='fa fa-external-link fa-2x'></i>","class":"btn btn--clear",target:"_blank"}),createElement(s,"a",{href:e.GitHub,innerHTML:"<i class='fa fa-github fa-2x'></i>","class":"btn btn--clear",target:"_blank"})},gotProjectsPreview=function(e){$(".feedback--error, .projects-loading-img").text("").hide("fast");var t=loopThroughData(e,renderProjectPreview,renderProjectsPreviewError,"Error Getting the Projects.");t&&setUpSlideShow("#slide-show--projects-preview"),delayExpand()};$(document).on("ready",function(){$("#slide-show--projects-preview").length>0&&($(".projects-loading-img").show("fast"),sendRequest({method:"GET",url:"/admin/api/1/projects/",query:{limit:3},load:gotProjectsPreview,error:renderProjectsPreviewError}))});var submitButton=$("#submit"),emailInput=$("#email-input"),messageInput=$("#message-input"),subjectInput=$("#subject-input"),emailFeedback=$("#email-feedback"),messageFeedback=$("#message-feedback"),formFeedback=$("#form-feedback"),renderFeedback=function(e){formFeedback.show("fast").text(e.feedback),e.ok?(formFeedback.addClass("feedback--success"),$("#email-input, #message-input, #subject-input").val("")):(e.feedback&&formFeedback.addClass("feedback--error"),e.messageFeedback&&messageFeedback.show("fast").text(e.messageFeedback),e.emailAddressFeedback&&emailFeedback.show("fast").text(e.emailAddressFeedback)),submitButton.prop("disabled",!1).html(submitButton.data("initialText"))},renderErrorMessage=function(){formFeedback.show("fast").text("Something went wrong, please try again later.").addClass("feedback--error"),submitButton.prop("disabled",!1).html(submitButton.data("initialText"))},validateForm=function(){submitButton.prop("disabled",!0).html(submitButton.data("loadingText"));var e=validateMessage(messageInput.val(),!0),t=validateEmail(emailInput.val(),!0);return t&&e?sendRequest({method:"POST",url:"sendMessage.php",query:{emailAddress:emailInput.val(),message:messageInput.val(),subject:subjectInput.val()},load:renderFeedback,error:renderErrorMessage}):submitButton.prop("disabled",!1).html(submitButton.data("initialText")),!1},validateEmail=function(e,t){formFeedback.hide("fast");var n=/\b[\w._-]+@[\w-]+.[\w]{2,}\b/im,i=n.test(e);if(""===e.trim()&&t)emailInput.addClass("invalid"),emailFeedback.show("fast").text("Email Address must be provided and valid.");else if(!i&&t)emailInput.addClass("invalid"),emailFeedback.show("fast").text("Email Address must be valid.");else if(""!==e.trim()&&i)return emailInput.removeClass("invalid"),emailFeedback.hide("fast"),!0;return!1},validateMessage=function(e,t){return formFeedback.hide("fast"),""===e.trim()&&t?(messageInput.addClass("invalid"),messageFeedback.show("fast").text("Message must be filled out."),!1):""!==e.trim()?(messageInput.removeClass("invalid"),messageFeedback.hide("fast"),!0):void 0};$(document).on("ready",function(){subjectInput.keyup(function(){formFeedback.hide("fast")}),emailInput.on("input",function(){validateEmail(this.value)}),messageInput.on("input",function(){validateMessage(this.value)}),$(".contact-form").on("submit",validateForm)});var expandSection=function(){$("section").height("auto");var e=$("header").outerHeight(!0)+$("section").outerHeight(!0)+$("footer").outerHeight(!0);e<$(window).height()&&$("section").height($(window).height()-e+$("section").height())},delayExpand=function(){var e=setInterval(expandSection,100);setTimeout(function(){clearInterval(e)},2500)};$(window).on("load orientationchange resize",expandSection),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},t=[].slice;!function(e,t){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(n){return t(n,e)}):t(e.jQuery,e)}(this,function(n,i){var o,r,s,a,l,d,c,u,h,p,f,v,m,g,w,_;return o=n(i),u=e.call(i,"ontouchstart")>=0,a={horizontal:{},vertical:{}},l=1,c={},d="waypoints-context-id",f="resize.waypoints",v="scroll.waypoints",m=1,g="waypoints-waypoint-ids",w="waypoint",_="waypoints",r=function(){function e(e){var t=this;this.$element=e,this.element=e[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()},this.waypoints={horizontal:{},vertical:{}},e.data(d,this.id),c[this.id]=this,e.bind(v,function(){var e;if(!t.didScroll&&!u)return t.didScroll=!0,e=function(){return t.doScroll(),t.didScroll=!1},i.setTimeout(e,n[_].settings.scrollThrottle)}),e.bind(f,function(){var e;if(!t.didResize)return t.didResize=!0,e=function(){return n[_]("refresh"),t.didResize=!1},i.setTimeout(e,n[_].settings.resizeThrottle)})}return e.prototype.doScroll=function(){var e,t=this;return e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!u||e.vertical.oldScroll&&e.vertical.newScroll||n[_]("refresh"),n.each(e,function(e,i){var o,r,s;return s=[],r=i.newScroll>i.oldScroll,o=r?i.forward:i.backward,n.each(t.waypoints[e],function(e,t){var n,o;return i.oldScroll<(n=t.offset)&&n<=i.newScroll?s.push(t):i.newScroll<(o=t.offset)&&o<=i.oldScroll?s.push(t):void 0}),s.sort(function(e,t){return e.offset-t.offset}),r||s.reverse(),n.each(s,function(e,t){if(t.options.continuous||e===s.length-1)return t.trigger([o])})}),this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.refresh=function(){var e,t,i,o=this;return i=n.isWindow(this.element),t=this.$element.offset(),this.doScroll(),e={horizontal:{contextOffset:i?0:t.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:t.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?n[_]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(e,function(e,t){return n.each(o.waypoints[e],function(e,i){var o,r,s,a,l;if(o=i.options.offset,s=i.offset,r=n.isWindow(i.element)?0:i.$element.offset()[t.offsetProp],n.isFunction(o)?o=o.apply(i.element):"string"==typeof o&&(o=parseFloat(o),i.options.offset.indexOf("%")>-1&&(o=Math.ceil(t.contextDimension*o/100))),i.offset=r-t.contextOffset+t.contextScroll-o,(!i.options.onlyOnScroll||null==s)&&i.enabled)return null!==s&&s<(a=t.oldScroll)&&a<=i.offset?i.trigger([t.backward]):null!==s&&s>(l=t.oldScroll)&&l>=i.offset?i.trigger([t.forward]):null===s&&t.oldScroll>=i.offset?i.trigger([t.forward]):void 0})})},e.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([f,v].join(" ")),delete c[this.id]},e}(),s=function(){function e(e,t,i){var o,r;i=n.extend({},n.fn[w].defaults,i),"bottom-in-view"===i.offset&&(i.offset=function(){var e;return e=n[_]("viewportHeight"),n.isWindow(t.element)||(e=t.$element.height()),e-n(this).outerHeight()}),this.$element=e,this.element=e[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=t,this.enabled=i.enabled,this.id="waypoints"+m++,this.offset=null,this.options=i,t.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,o=null!=(r=e.data(g))?r:[],o.push(this.id),e.data(g,o)}return e.prototype.trigger=function(e){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,e),this.options.triggerOnce?this.destroy():void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},e.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},e.getWaypointsByElement=function(e){var t,i;return(i=n(e).data(g))?(t=n.extend({},a.horizontal,a.vertical),n.map(i,function(e){return t[e]})):[]},e}(),p={init:function(e,t){var i;return null==t&&(t={}),null==(i=t.handler)&&(t.handler=e),this.each(function(){var e,i,o,a;return e=n(this),o=null!=(a=t.context)?a:n.fn[w].defaults.context,n.isWindow(o)||(o=e.closest(o)),o=n(o),i=c[o.data(d)],i||(i=new r(o)),new s(e,i,t)}),n[_]("refresh"),this},disable:function(){return p._invoke(this,"disable")},enable:function(){return p._invoke(this,"enable")},destroy:function(){return p._invoke(this,"destroy")},prev:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t>0)return e.push(n[t-1])})},next:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t<n.length-1)return e.push(n[t+1])})},_traverse:function(e,t,o){var r,s;return null==e&&(e="vertical"),null==t&&(t=i),s=h.aggregate(t),r=[],this.each(function(){var t;return t=n.inArray(this,s[e]),o(r,t,s[e])}),this.pushStack(r)},_invoke:function(e,t){return e.each(function(){var e;return e=s.getWaypointsByElement(this),n.each(e,function(e,n){return n[t](),!0})}),this}},n.fn[w]=function(){var e,i;return i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],p[i]?p[i].apply(this,e):n.isFunction(i)?p.init.apply(this,arguments):n.isPlainObject(i)?p.init.apply(this,[null,i]):i?n.error("The "+i+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")},n.fn[w].defaults={context:i,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return n.each(c,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return null!=(e=i.innerHeight)?e:o.height()},aggregate:function(e){var t,i,o;return t=a,e&&(t=null!=(o=c[n(e).data(d)])?o.waypoints:void 0),t?(i={horizontal:[],vertical:[]},n.each(i,function(e,o){return n.each(t[e],function(e,t){return o.push(t)}),o.sort(function(e,t){return e.offset-t.offset}),i[e]=n.map(o,function(e){return e.element}),i[e]=n.unique(i[e])}),i):[]},above:function(e){return null==e&&(e=i),h._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){return null==e&&(e=i),h._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){return null==e&&(e=i),h._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){return null==e&&(e=i),h._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(e,t){return p[e]=t},_invoke:function(e){var t;return t=n.extend({},a.vertical,a.horizontal),n.each(t,function(t,n){return n[e](),!0})},_filter:function(e,t,i){var o,r;return(o=c[n(e).data(d)])?(r=[],n.each(o.waypoints[t],function(e,t){if(i(o,t))return r.push(t)}),r.sort(function(e,t){return e.offset-t.offset}),n.map(r,function(e){return e.element})):[]}},n[_]=function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],h[n]?h[n].apply(null,e):h.aggregate.call(null,n)},n[_].settings={resizeThrottle:100,scrollThrottle:30},o.load(function(){return n[_]("refresh")})})}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e,t){return e.toFixed(t.decimals)}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,this.dataOptions(),i),this.init()};n.DEFAULTS={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:t,onUpdate:null,onComplete:null},n.prototype.init=function(){this.value=this.options.from,this.loops=Math.ceil(this.options.speed/this.options.refreshInterval),this.loopCount=0,this.increment=(this.options.to-this.options.from)/this.loops},n.prototype.dataOptions=function(){var e={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")},t=Object.keys(e);for(var n in t){var i=t[n];"undefined"==typeof e[i]&&delete e[i]}return e},n.prototype.update=function(){this.value+=this.increment,this.loopCount++,this.render(),"function"==typeof this.options.onUpdate&&this.options.onUpdate.call(this.$element,this.value),this.loopCount>=this.loops&&(clearInterval(this.interval),this.value=this.options.to,"function"==typeof this.options.onComplete&&this.options.onComplete.call(this.$element,this.value))},n.prototype.render=function(){var e=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(e)},n.prototype.restart=function(){this.stop(),this.init(),this.start()},n.prototype.start=function(){this.stop(),this.render(),this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)},n.prototype.stop=function(){this.interval&&clearInterval(this.interval)},n.prototype.toggle=function(){this.interval?this.stop():this.start()},e.fn.countTo=function(t){return this.each(function(){var i=e(this),o=i.data("countTo"),r=!o||"object"==typeof t,s="object"==typeof t?t:{},a="string"==typeof t?t:"start";r&&(o&&o.stop(),i.data("countTo",o=new n(this,s))),o[a].call(o)})}}),$(document).click(function(e){$(e.target).closest(".nav").length||$(".nav__links-container").hasClass("closed")||"none"===$(".nav__links__toggle").css("display")||$(".nav__links__toggle").trigger("click")}),$(".nav__links__toggle").on("click",function(){var e=$(".nav__links-container");if(e.toggleClass("closed"),e.toggleClass("opening"),e[0].clientHeight)e[0].style.height=0;else{var t=$(".nav__links")[0];e[0].style.height=t.clientHeight+"px"}setTimeout(function(){e.toggleClass("opening")},670),$(".nav").toggleClass("opened")}),$(window).on("orientationchange resize",function(){if($(window).width()>768){var e=$(".nav__links-container");e[0].style.height="",e.addClass("closed"),$(".nav").removeClass("opened"),e.removeClass("opening")}}),$(window).on("scroll",function(){var e=$(".nav").height(),t=$(window).scrollTop()+e,n=$(window).height();t>=n?$(".nav").addClass("scrolled"):$(".nav").removeClass("scrolled")}),$(document).on("ready",function(){$(".js-scroll-to-content").on("click",function(){$("html, body").animate({scrollTop:jQuery("section").offset().top-jQuery(".nav").height()},1e3)}),$(".js-expand-label").on("click",function(){var e=$(this).children(".label__more_content"),t=$(this).children(".label__expand-icon");$(".label__more_content").not(e).slideUp(),$(".label__expand-icon").not(t).addClass("fa-plus").removeClass("fa-minus"),t.toggleClass("fa-plus"),t.toggleClass("fa-minus"),e.slideToggle(),$(this).toggleClass("expanded-label"),$(".js-expand-label").not(this).removeClass("expanded-label")});var e=function(e){var t=$(this);e=$.extend({},e||{},t.data("countToOptions")||{}),t.countTo(e)};$(".counter").waypoint(function(){$(".counter").each(e)},{offset:"100%"});var t=$(".js-seconds-on-site");t.length>0&&setTimeout(function(){setInterval(function(){var e=t.text();e=parseInt(e),t.text(e+1)},1e3)},1e3)});