window.jpi=window.jpi||{},window.jpi.expandImage=function(e){"use strict";var t=0,n={},i=e(".expanded-image-slide-show"),o=function(i){e(".expanded-image-slide-show__bullets .slide-show__bullet:eq("+t+")").removeClass("active"),t=i,t>=n.length?t=0:t<0&&(t=n.length-1);var o=e(".expanded-image.current"),s=e(".expanded-image:not(.current)");s.attr("src",n[t].src),o.removeClass("current"),s.addClass("current"),e(".expanded-image-counter__current").text((t+1).toString()),e(".expanded-image-slide-show__bullets .slide-show__bullet:eq("+t+")").addClass("active")},s=function(){o(t+1)},r=function(){o(t-1)},a=function(){i.removeClass("active").addClass("hiding"),setTimeout(function(){document.body.style.overflow="auto",i.removeClass("hiding")},990),jpi.slideShow.loopThroughSlideShows(jpi.slideShow.startSlideShow),e(".expanded-image-slide-show__bullets").text("")},l=function(o){var s=e(".expanded-image.current");jpi.slideShow.loopThroughSlideShows(jpi.slideShow.stopSlideShow),i.addClass("active"),s.attr("src",o.target.src).show(),document.body.style.overflow="hidden";var r=e(o.target).attr("data-slide-colour"),a=e(o.target).data("slideShowId");n=e(a+" .slide");for(var l=0;l<n.length;l++)n[l]===o.target&&(t=l),jpi.helpers.createElement(e(".expanded-image-slide-show__bullets")[0],"label",{"class":"slide-show__bullet js-expanded-image-bullet slide-show__bullet--"+r,"data-slide-id":l});e(".expanded-image-counter__current").text((t+1).toString()),e(".expanded-image-counter__total").text(n.length),n.length>1?e(".expanded-image-slide-show__nav-previous, .expanded-image-slide-show__nav-previous, .expanded-image-slide-show__bullets").show():e(".expanded-image-slide-show__nav-previous, .expanded-image-slide-show__nav-previous, .expanded-image-slide-show__bullets").hide();var d=new RegExp("slide-show__nav--\\w*","g");e(".expanded-image-slide-show .slide-show__nav").each(function(){var t=e(this).attr("class");t=t.replace(d,"slide-show__nav--"+r),e(this).attr("class",t)}),e(".expanded-image-slide-show__bullets .slide-show__bullet:eq("+t+")").addClass("active"),e(".modal--detailed-project").removeClass("open").hide(),setTimeout(function(){s.attr("src",""),s.attr("src",o.target.src)},1e3)},d=function(){e("body").on("click",".js-expandable-image",l),e("body").on("click",".js-expanded-image-bullet",function(t){o(parseInt(e(t.target).data("slideId")))}),e(".expanded-image-slide-show__close").click(a),e(".expanded-image-slide-show__nav-next").click(s),e(".expanded-image-slide-show__nav-previous").click(r)};e(document).on("ready",d)}(jQuery),window.jpi=window.jpi||{},window.jpi.slideShow=function(e){"use strict";var t={},n=function(e){e.css("transitionDuration","2s")},i=function(e){var t=e.innerWidth()*e.children().first().children().length;e.children().first().css("width",t+"px")},o=function(t){var o=e("#"+t+" .slide-show__slides-container"),s=e("#"+t+" .slide-show__viewpoint"),r=e("#"+t+" .slide-show__slide-container.active");i(s),o.children().css("width",e("#"+t).innerWidth()+"px");var a=r.position();o.css({transitionDuration:"0s",left:"-"+a.left+"px"}),setTimeout(n,100,o)},s=function(n){e("#"+n+" .slide-show__slides-container").children().length>1&&(t["#"+n]=setInterval(function(){c("#"+n,"next")},5e3))},r=function(e){clearInterval(t["#"+e])},a=function(t){var n,i=e(".hasSlideShow");for(n=0;n<i.length;n++)t(i[n].id)},l=function(){var e=setInterval(a,10,o);setTimeout(function(){clearInterval(e)},1e3)},d=function(i,o){var s=e(i+" .slide-show__slides-container");if(clearInterval(t[i]),n(s),"#slide-show--projects-preview"==i){var r=o.filter(".slide-show__slide-container").attr("data-slide-colour"),a=new RegExp("slide-show__nav--\\w*","g");e(i+" .slide-show__nav").each(function(){var t=e(this).attr("class");t=t.replace(a,"slide-show__nav--"+r),e(this).attr("class",t)})}e(i+" .active").removeClass("active");var l=o.position();o.addClass("active");var d=o[0].id;s.css("left","-"+l.left+"px"),e(i+" .slide-show__bullet[data-slide-id="+d+"]").addClass("active"),t[i]=setInterval(function(){c(i,"next")},5e3)},c=function(t,n){var i,o=e(t+" .active");i="next"===n?o.next().length>0?o.next():o.parent().children().first():o.prev().length>0?o.prev():o.parent().children().last(),d(t,i)},u=function(){var t=e(this).data("slideShowId"),n=e(this).data("slideId"),i=e(t+" #"+n);d(t,i)},h=function(i){var o=e(i+" .slide-show__slide-container.active").position(),s=e(i+" .slide-show__slides-container");s.css({transitionDuration:"0s",left:"-"+o.left+"px"}),setTimeout(n,100,s),t[i]=setInterval(function(){c(i,"next")},5e3)},p=function(n){var i=e(this).data("slideShowId"),o=n.changedTouches?n.changedTouches[0].clientX:n.clientX,s=e(i+" .slide-show__slides-container"),r=s.css("left"),a=e(i+" .slide-show__viewpoint"),l=function(e){var t=o-(e.changedTouches?e.changedTouches[0].clientX:e.clientX),n=parseInt(r);n||(n=0),s.css({transitionDuration:"0s",left:n-t+"px"})},d=function(e){var t=e.changedTouches?e.changedTouches[0].clientX:e.clientX;o-t>15?c(i,"next"):o-t<-15?c(i,"previous"):h(i),a[0].removeEventListener("touchmove",l),a[0].removeEventListener("touchend",d),a[0].removeEventListener("mousemove",l),a[0].removeEventListener("mouseup",d),a[0].removeEventListener("mouseleave",u)},u=function(){h(i),a[0].removeEventListener("touchmove",l),a[0].removeEventListener("touchend",d),a[0].removeEventListener("mousemove",l),a[0].removeEventListener("mouseup",d),a[0].removeEventListener("mouseleave",u)};clearInterval(t[i]),a[0].addEventListener("touchmove",l),a[0].addEventListener("touchend",d),a[0].addEventListener("mousemove",l),a[0].addEventListener("mouseup",d),a[0].addEventListener("mouseleave",u)},f=function(t){var n=e(t+" .slide-show__viewpoint"),o=e(t+" .slide-show__slide-container");e(t).addClass("hasSlideShow").show(),i(n),o.length>1?(o.css("width",n.innerWidth()+"px"),e(t+" .js-move-slide, "+t+" .js-slide-show-bullets").show(),setTimeout(function(){d(t,o.first())},100),n[0].addEventListener("mousedown",p),n[0].addEventListener("touchstart",p)):e(t+" .js-move-slide, "+t+" .js-slide-show-bullets").hide()},v=function(){e(window).on("orientationchange resize",l),e("body").on("click",".js-slide-show-bullet",u),e("body").on("click",".js-move-slide",function(){c(e(this).data("slideShowId"),e(this).data("navDirection"))}),e("body").on("dragstart",".slide",!1)};return e(document).on("ready",v),{setUp:f,dragStart:p,loopThroughSlideShows:a,stopSlideShow:r,startSlideShow:s}}(jQuery),window.jpi=window.jpi||{},window.jpi.helpers=function(e){"use strict";var t=function(e){return""===e.value.trim()?(e.classList.add("invalid"),e.classList.remove("valid"),!1):(e.classList.remove("invalid"),e.classList.add("valid"),!0)},n=function(e,t,n){var i=document.createElement(t);for(var o in n)n.hasOwnProperty(o)&&("innerHTML"===o?i[o]=n[o]:i.setAttribute(o,n[o]));return e.appendChild(i),i};return{checkInputField:t,createElement:n}}(jQuery),window.jpi=window.jpi||{},window.jpi.ajax=function(e){"use strict";var t=function(e,t,n){(e||n)&&t(e||n)},n=function(e,n,i,o){var s;if(e.rows&&e.rows.length>0){for(s=0;s<e.rows.length;s++)e.rows.hasOwnProperty(s)&&n(e.rows[s]);return!0}return t(e.meta.feedback,i,o),!1},i=function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+=t+"="+encodeURIComponent(e[t])+"&",n=n.replace("%20","+"),n=n.replace("%3D","="));return n.slice(0,-1)},o=function(e){var t=new XMLHttpRequest;e.query&&"file"!==e.data&&(e.query=i(e.query),"POST"!==e.method&&(e.url+="?"+e.query)),t.open(e.method,e.url,!0),t.setRequestHeader("Accept","application/json"),e.query&&"POST"===e.method&&"file"!==e.data&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.addEventListener("load",function(){if(this&&""!==this.responseText)try{var t=JSON.parse(this.responseText);e.load(t)}catch(n){e.error("Error Loading Content.")}else e.error("Error Loading Content.")}),t.addEventListener("error",function(){e.error("Error Loading Content.")}),t.send(e.query)};return{loopThroughData:n,sendRequest:o}}(jQuery),window.jpi=window.jpi||{},window.jpi.projects=function(e){"use strict";var t=new URL(window.location),n=function(t){e(".feedback--error").text(t).show("fast"),e(".projects-loading-img, .pagination").text("").hide("fast"),jpi.footer.delayExpand()},i=function(t,n){for(var i=t.Skills.split(","),o=e(n+" .project__skills")[0],s=0;s<i.length;s++)if(""!==i[s].trim())for(var r=jpi.helpers.createElement(o,"p",{innerHTML:i[s],"class":"js-searchable-skill skill skill--"+t.Colour}),a=e(".search-input")[0].value.split(" "),l=0;l<a.length;l++)""!==a[l].trim()&&i[s].toLowerCase().includes(a[l].toLowerCase())&&(r.className+=" searched")},o=function(t,n){var i=e(n+" .project__links")[0];t.Link&&jpi.helpers.createElement(i,"a",{href:t.Link,title:"Link to "+t.Name+" Site",target:"_blank",innerHTML:"<i class='fa fa-external-link fa-2x'></i>","class":"project__link project__link--"+t.Colour}),t.Download&&jpi.helpers.createElement(i,"a",{href:t.Download,title:"Link to Download "+t.Name,target:"_blank",innerHTML:"<i class='fa fa-download fa-2x'></i>","class":"project__link project__link--"+t.Colour}),jpi.helpers.createElement(i,"a",{href:t.GitHub,title:"Link to "+t.Name+"  Code On GitHub",target:"_blank",innerHTML:"<i class='fa fa-github fa-2x'></i>","class":"project__link project__link--"+t.Colour})},s=function(t,n){for(var i=e(n+" .slide-show__slides-container"),o=e(n+" .js-slide-show-bullets"),s=0;s<t.pictures.length;s++)if(t.pictures.hasOwnProperty(s)){var r=e("#tmpl-slide-template").text(),a=e("#tmpl-slide-bullet-template").text();for(var l in t.pictures[s])if(t.pictures[s].hasOwnProperty(l)&&"string"==typeof l){var d=new RegExp("{{"+l+"}}","g");r=r.replace(d,t.pictures[s][l]),a=a.replace(d,t.pictures[s][l])}var c=new RegExp("{{Colour}}","g");r=r.replace(c,t.Colour),a=a.replace(c,t.Colour);var u=new RegExp("{{Slide-Show-ID}}","g");a=a.replace(u,n),i.append(r),o.append(a)}t.pictures.length>0&&jpi.slideShow.setUp(n)},r=function(){var t=e(this).data("projectData");e(".modal--detailed-project").addClass("open").show(),document.body.style.overflow="hidden",jpi.slideShow.loopThroughSlideShows(jpi.slideShow.stopSlideShow),e(".modal--detailed-project .project__links, .modal--detailed-project .project__skills, .modal--detailed-project .slide-show__slides-container, .modal--detailed-project .js-slide-show-bullets").text(""),e(".modal--detailed-project .project-title").text(t.Name),e(".modal--detailed-project .project-date").text(t.Date),i(t,".modal--detailed-project"),e(".modal--detailed-project .description").html(t.LongDescription),o(t,".modal--detailed-project"),s(t,"#detailed-project__slide-show");var n=new RegExp("slide-show__nav--\\w*","g");e(".modal--detailed-project .slide-show__nav").each(function(){var i=e(this).attr("class");i=i.replace(n,"slide-show__nav--"+t.Colour),e(this).attr("class",i)})},a=function(t){!e(t.target).closest(".modal__content").length&&e(".modal--detailed-project").hasClass("open")&&(e(".modal--detailed-project").removeClass("open").hide(),document.body.style.overflow="auto",e("#detailed-project__slide-show .slide-show__viewpoint")[0].removeEventListener("mousedown",jpi.slideShow.dragStart),e("#detailed-project__slide-show .slide-show__viewpoint")[0].removeEventListener("touchstart",jpi.slideShow.dragStart),e("#detailed-project__slide-show .slide-show__slides-container").css("left","0px"),clearInterval(autoSlide["#detailed-project__slide-show"]),e("#detailed-project__slide-show").removeClass("hasSlideShow"),jpi.slideShow.loopThroughSlideShows(jpi.slideShow.startSlideShow))},l=function(t){if(!document.getElementById("project--"+t.ID)){var n=e("#tmpl-project-template").text();for(var r in t)if(t.hasOwnProperty(r)&&"string"==typeof r){var a=new RegExp("{{"+r+"}}","g");n=n.replace(a,t[r])}e(".projects").append(n),i(t,"#project--"+t.ID),o(t,"#project--"+t.ID),s(t,"#slide-show--"+t.ID),e("#project--"+t.ID+" .js-open-modal").data("projectData",t)}jpi.footer.delayExpand()},d=function(){e("html, body").animate({scrollTop:e(".projects").offset().top-e(".nav").height()},2e3)},c=function(n){if(parseInt(n)>10){var i=1,o=e(".pagination")[0],s=t.pathname.substring(1).split("/");if(Number.isInteger(parseInt(s[1])))var r=parseInt(s[1]);r||(r=1);for(var a=0;a<n;a+=10,i++){var l={innerHTML:i,"class":"pagination__item"};i===r&&(l["class"]+=" active"),jpi.helpers.createElement(o,"li",l)}e(".pagination").show()}else e(".pagination").hide()},u=function(t){e(".feedback--error, .projects-loading-img").text("").hide("fast"),e(".projects, .pagination").text(""),jpi.ajax.loopThroughData(t,l,n,"No Projects Found."),t.count&&c(t.count),jpi.footer.delayExpand()},h=function(t){jpi.slideShow.loopThroughSlideShows(jpi.slideShow.stopSlideShow),e(".projects-loading-img").show("fast"),jpi.ajax.sendRequest({method:"GET",url:"/admin/api/1/projects/",query:t,load:u,error:n})},p=function(){var n={};return t.pathname="/projects/",""!==e(".search-input")[0].value.trim()?(t.search="?search="+e(".search-input")[0].value,n.search=e(".search-input")[0].value):e(".search-input")[0].value=t.search="",history.pushState(null,null,t.toString()),h(n),!1},f=function(){for(var e=t.search.substring(1).split("&"),n=/\bsearch=/im,i=0;i<e.length;i++){var o=n.test(e[i]);if(o){var s=e[i].split("=");return decodeURIComponent(s[1])}}},v=function(){var n={},i=t.pathname.substring(1).split("/");i[1]&&Number.isInteger(parseInt(i[1]))&&(n.page=parseInt(i[1]));var o=f();o?n.search=e(".search-input")[0].value=o:e(".search-input").val(""),h(n)},w=function(){e(".search-form").on("submit",p),e("body").on("click",".js-searchable-skill",function(t){e(".search-input")[0].value=t.target.innerHTML,p()}),e(".pagination--projects").on("click",".pagination__item",function(e){d(),t.pathname="/projects/"+e.target.innerHTML+"/",history.pushState(null,null,t.toString()),v()}),e(".projects").on("click",".js-open-modal",r),window.addEventListener("popstate",function(){t=new URL(window.location),d(),v()}),e(".modal--detailed-project").on("click",a)},m=function(){e(".projects").length>0&&(w(),v())};e(document).on("ready",m)}(jQuery),window.jpi=window.jpi||{},window.jpi.home=function(e){"use strict";var t=function(){var t=e(".js-seconds-on-site");t.length>0&&setTimeout(function(){setInterval(function(){var e=t.text();e=parseInt(e),t.text(e+1)},1e3)},1e3)},n=function(t){e(".feedback--error").text(t).show("fast"),e(".projects-loading-img").hide("fast"),jpi.footer.delayExpand()},i=function(t){var n=e("#tmpl-slide-template").text(),i=e("#tmpl-slide-bullet-template").text();for(var o in t)if(t.hasOwnProperty(o)&&"string"==typeof o){var s=new RegExp("{{"+o+"}}","g");n=n.replace(s,t[o]),i=i.replace(s,t[o])}var r=new RegExp("{{File}}","g");n=n.replace(r,t.pictures[0].File),e(".slide-show__slides-container").append(n),e(".js-slide-show-bullets").append(i);var a=e("#slide--"+t.ID+" .project-description__links")[0];t.Link&&jpi.helpers.createElement(a,"a",{href:t.Link,innerHTML:"<i class='fa fa-external-link fa-2x'></i>","class":"btn btn--clear",target:"_blank"}),jpi.helpers.createElement(a,"a",{href:t.GitHub,innerHTML:"<i class='fa fa-github fa-2x'></i>","class":"btn btn--clear",target:"_blank"})},o=function(t){e(".feedback--error, .projects-loading-img").text("").hide("fast");var o=jpi.ajax.loopThroughData(t,i,n,"Error Getting the Projects.");o&&jpi.slideShow.setUp("#slide-show--projects-preview"),jpi.footer.delayExpand()},s=function(){e("#slide-show--projects-preview").length>0&&(t(),e(".projects-loading-img").show("fast"),jpi.ajax.sendRequest({method:"GET",url:"/admin/api/1/projects/",query:{limit:3},load:o,error:n}))};e(document).on("ready",s)}(jQuery),window.jpi=window.jpi||{},window.jpi.form=function(e){"use strict";var t=e("#submit"),n=e("#email-input"),i=e("#message-input"),o=e("#subject-input"),s=e("#email-feedback"),r=e("#message-feedback"),a=e("#form-feedback"),l=function(n){a.show("fast").text(n.feedback),n.ok?(a.addClass("feedback--success"),e("#email-input, #message-input, #subject-input").val("")):(n.feedback&&a.addClass("feedback--error"),n.messageFeedback&&r.show("fast").text(n.messageFeedback),n.emailAddressFeedback&&s.show("fast").text(n.emailAddressFeedback)),t.prop("disabled",!1).html(t.data("initialText"))},d=function(){a.show("fast").text("Something went wrong, please try again later.").addClass("feedback--error"),t.prop("disabled",!1).html(t.data("initialText"))},c=function(){t.prop("disabled",!0).html(t.data("loadingText"));var e=h(i.val(),!0),s=u(n.val(),!0);return s&&e?jpi.ajax.sendRequest({method:"POST",url:"sendMessage.php",query:{emailAddress:n.val(),message:i.val(),subject:o.val()},load:l,error:d}):t.prop("disabled",!1).html(t.data("initialText")),!1},u=function(e,t){a.hide("fast"),n.removeClass("valid");var i=/\b[\w._-]+@[\w-]+.[\w]{2,}\b/im,o=i.test(e);if(""===e.trim()&&t)n.addClass("invalid"),s.show("fast").text("Email Address must be provided and valid.");else if(!o&&t)n.addClass("invalid"),s.show("fast").text("Email Address must be valid.");else if(""!==e.trim()&&o)return n.removeClass("invalid"),n.addClass("valid"),s.hide("fast"),!0;return!1},h=function(e,t){return a.hide("fast"),i.removeClass("valid"),""===e.trim()&&t?(i.addClass("invalid"),r.show("fast").text("Message must be filled out."),!1):""!==e.trim()?(i.removeClass("invalid"),i.addClass("valid"),r.hide("fast"),!0):void 0},p=function(){o.keyup(function(){a.hide("fast")}),n.on("input",function(){u(this.value)}),i.on("input",function(){h(this.value)}),e(".contact-form").on("submit",c)};e(document).on("ready",p)}(jQuery),window.jpi=window.jpi||{},window.jpi.footer=function(e){"use strict";var t=function(){e("section").height("auto");var t=e("header").outerHeight(!0)+e("section").outerHeight(!0)+e("footer").outerHeight(!0);t<e(window).height()&&e("section").height(e(window).height()-t+e("section").height())},n=function(){var e=setInterval(t,100);setTimeout(function(){clearInterval(e)},2500)},i=function(){e(window).on("load orientationchange resize",t)};return e(document).on("ready",i),{delayExpand:n}}(jQuery),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},t=[].slice;!function(e,t){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(n){return t(n,e)}):t(e.jQuery,e)}(this,function(n,i){var o,s,r,a,l,d,c,u,h,p,f,v,w,m,g,_;return o=n(i),u=e.call(i,"ontouchstart")>=0,a={horizontal:{},vertical:{}},l=1,c={},d="waypoints-context-id",f="resize.waypoints",v="scroll.waypoints",w=1,m="waypoints-waypoint-ids",g="waypoint",_="waypoints",s=function(){function e(e){var t=this;this.$element=e,this.element=e[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()},this.waypoints={horizontal:{},vertical:{}},e.data(d,this.id),c[this.id]=this,e.bind(v,function(){var e;if(!t.didScroll&&!u)return t.didScroll=!0,e=function(){return t.doScroll(),t.didScroll=!1},i.setTimeout(e,n[_].settings.scrollThrottle)}),e.bind(f,function(){var e;if(!t.didResize)return t.didResize=!0,e=function(){return n[_]("refresh"),t.didResize=!1},i.setTimeout(e,n[_].settings.resizeThrottle)})}return e.prototype.doScroll=function(){var e,t=this;return e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!u||e.vertical.oldScroll&&e.vertical.newScroll||n[_]("refresh"),n.each(e,function(e,i){var o,s,r;return r=[],s=i.newScroll>i.oldScroll,o=s?i.forward:i.backward,n.each(t.waypoints[e],function(e,t){var n,o;return i.oldScroll<(n=t.offset)&&n<=i.newScroll?r.push(t):i.newScroll<(o=t.offset)&&o<=i.oldScroll?r.push(t):void 0}),r.sort(function(e,t){return e.offset-t.offset}),s||r.reverse(),n.each(r,function(e,t){if(t.options.continuous||e===r.length-1)return t.trigger([o])})}),this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.refresh=function(){var e,t,i,o=this;return i=n.isWindow(this.element),t=this.$element.offset(),this.doScroll(),e={horizontal:{contextOffset:i?0:t.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:t.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?n[_]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(e,function(e,t){return n.each(o.waypoints[e],function(e,i){var o,s,r,a,l;if(o=i.options.offset,r=i.offset,s=n.isWindow(i.element)?0:i.$element.offset()[t.offsetProp],n.isFunction(o)?o=o.apply(i.element):"string"==typeof o&&(o=parseFloat(o),i.options.offset.indexOf("%")>-1&&(o=Math.ceil(t.contextDimension*o/100))),i.offset=s-t.contextOffset+t.contextScroll-o,(!i.options.onlyOnScroll||null==r)&&i.enabled)return null!==r&&r<(a=t.oldScroll)&&a<=i.offset?i.trigger([t.backward]):null!==r&&r>(l=t.oldScroll)&&l>=i.offset?i.trigger([t.forward]):null===r&&t.oldScroll>=i.offset?i.trigger([t.forward]):void 0})})},e.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([f,v].join(" ")),delete c[this.id]},e}(),r=function(){function e(e,t,i){var o,s;i=n.extend({},n.fn[g].defaults,i),"bottom-in-view"===i.offset&&(i.offset=function(){var e;return e=n[_]("viewportHeight"),n.isWindow(t.element)||(e=t.$element.height()),e-n(this).outerHeight()}),this.$element=e,this.element=e[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=t,this.enabled=i.enabled,this.id="waypoints"+w++,this.offset=null,this.options=i,t.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,o=null!=(s=e.data(m))?s:[],o.push(this.id),e.data(m,o)}return e.prototype.trigger=function(e){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,e),this.options.triggerOnce?this.destroy():void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},e.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},e.getWaypointsByElement=function(e){var t,i;return(i=n(e).data(m))?(t=n.extend({},a.horizontal,a.vertical),n.map(i,function(e){return t[e]})):[]},e}(),p={init:function(e,t){var i;return null==t&&(t={}),null==(i=t.handler)&&(t.handler=e),this.each(function(){var e,i,o,a;return e=n(this),o=null!=(a=t.context)?a:n.fn[g].defaults.context,n.isWindow(o)||(o=e.closest(o)),o=n(o),i=c[o.data(d)],i||(i=new s(o)),new r(e,i,t)}),n[_]("refresh"),this},disable:function(){return p._invoke(this,"disable")},enable:function(){return p._invoke(this,"enable")},destroy:function(){return p._invoke(this,"destroy")},prev:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t>0)return e.push(n[t-1])})},next:function(e,t){return p._traverse.call(this,e,t,function(e,t,n){if(t<n.length-1)return e.push(n[t+1])})},_traverse:function(e,t,o){var s,r;return null==e&&(e="vertical"),null==t&&(t=i),r=h.aggregate(t),s=[],this.each(function(){var t;return t=n.inArray(this,r[e]),o(s,t,r[e])}),this.pushStack(s)},_invoke:function(e,t){return e.each(function(){var e;return e=r.getWaypointsByElement(this),n.each(e,function(e,n){return n[t](),!0})}),this}},n.fn[g]=function(){var e,i;return i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],p[i]?p[i].apply(this,e):n.isFunction(i)?p.init.apply(this,arguments):n.isPlainObject(i)?p.init.apply(this,[null,i]):i?n.error("The "+i+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")},n.fn[g].defaults={context:i,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return n.each(c,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return null!=(e=i.innerHeight)?e:o.height()},aggregate:function(e){var t,i,o;return t=a,e&&(t=null!=(o=c[n(e).data(d)])?o.waypoints:void 0),t?(i={horizontal:[],vertical:[]},n.each(i,function(e,o){return n.each(t[e],function(e,t){return o.push(t)}),o.sort(function(e,t){return e.offset-t.offset}),i[e]=n.map(o,function(e){return e.element}),i[e]=n.unique(i[e])}),i):[]},above:function(e){return null==e&&(e=i),h._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){return null==e&&(e=i),h._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){return null==e&&(e=i),h._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){return null==e&&(e=i),h._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(e,t){return p[e]=t},_invoke:function(e){var t;return t=n.extend({},a.vertical,a.horizontal),n.each(t,function(t,n){return n[e](),!0})},_filter:function(e,t,i){var o,s;return(o=c[n(e).data(d)])?(s=[],n.each(o.waypoints[t],function(e,t){if(i(o,t))return s.push(t)}),s.sort(function(e,t){return e.offset-t.offset}),n.map(s,function(e){return e.element})):[]}},n[_]=function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],h[n]?h[n].apply(null,e):h.aggregate.call(null,n)},n[_].settings={resizeThrottle:100,scrollThrottle:30},o.load(function(){return n[_]("refresh")})})}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e,t){return e.toFixed(t.decimals)}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,this.dataOptions(),i),this.init()};n.DEFAULTS={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:t,onUpdate:null,onComplete:null},n.prototype.init=function(){this.value=this.options.from,this.loops=Math.ceil(this.options.speed/this.options.refreshInterval),this.loopCount=0,this.increment=(this.options.to-this.options.from)/this.loops},n.prototype.dataOptions=function(){var e={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")},t=Object.keys(e);for(var n in t){var i=t[n];"undefined"==typeof e[i]&&delete e[i]}return e},n.prototype.update=function(){this.value+=this.increment,this.loopCount++,this.render(),"function"==typeof this.options.onUpdate&&this.options.onUpdate.call(this.$element,this.value),this.loopCount>=this.loops&&(clearInterval(this.interval),this.value=this.options.to,"function"==typeof this.options.onComplete&&this.options.onComplete.call(this.$element,this.value))},n.prototype.render=function(){var e=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(e)},n.prototype.restart=function(){this.stop(),this.init(),this.start()},n.prototype.start=function(){this.stop(),this.render(),this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)},n.prototype.stop=function(){this.interval&&clearInterval(this.interval)},n.prototype.toggle=function(){this.interval?this.stop():this.start()},e.fn.countTo=function(t){return this.each(function(){var i=e(this),o=i.data("countTo"),s=!o||"object"==typeof t,r="object"==typeof t?t:{},a="string"==typeof t?t:"start";s&&(o&&o.stop(),i.data("countTo",o=new n(this,r))),o[a].call(o)})}}),window.jpi=window.jpi||{},window.jpi.nav=function(e){"use strict";var t=function(){var t=e(".nav__links-container");if(t.toggleClass("closed"),t.toggleClass("opening"),t[0].clientHeight)t[0].style.height=0;else{var n=e(".nav__links")[0];t[0].style.height=n.clientHeight+"px"}setTimeout(function(){t.toggleClass("opening")},670),e(".nav").toggleClass("opened")},n=function(){if(e(window).width()>768){var t=e(".nav__links-container");t[0].style.height="",t.addClass("closed"),e(".nav").removeClass("opened"),t.removeClass("opening")}},i=function(t){e(t.target).closest(".nav").length||e(".nav__links-container").hasClass("closed")||"none"===e(".nav__links__toggle").css("display")||e(".nav__links__toggle").trigger("click")},o=function(){var t=e(".nav").height(),n=e(window).scrollTop()+t,i=e(window).height();n>=i?e(".nav").addClass("scrolled"):e(".nav").removeClass("scrolled")},s=function(){e(document).on("click",i),e(".nav__links__toggle").on("click",t),e(window).on("orientationchange resize",n),e(window).on("scroll",o)};e(document).on("ready",s)}(jQuery),window.jpi=window.jpi||{},window.jpi.main=function(e){"use strict";var t=function(t){var n=e(this);t=e.extend({},t||{},n.data("countToOptions")||{}),n.countTo(t)},n=function(){var n=e(".counter");n.length>0&&e(".counter").waypoint(function(){e(".counter").each(t)},{offset:"100%"})},i=function(){e("html, body").animate({scrollTop:e("section").offset().top-e(".nav").height()},1e3)},o=function(){var t=e(this).children(".label__more_content"),n=e(this).children(".label__expand-icon");e(".label__more_content").not(t).slideUp(),e(".label__expand-icon").not(n).addClass("fa-plus").removeClass("fa-minus"),n.toggleClass("fa-plus"),n.toggleClass("fa-minus"),t.slideToggle(),e(this).toggleClass("expanded-label"),e(".js-expand-label").not(this).removeClass("expanded-label")},s=function(){e(".js-scroll-to-content").on("click",i),e(".js-expand-label").on("click",o)},r=function(){s(),n()};e(document).on("ready",r)}(jQuery);