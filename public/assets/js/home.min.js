var JPI=JPI||{};!function(){"use strict";function e(t){if(!t)throw new Error("No options passed to Waypoint constructor");if(!t.element)throw new Error("No element option passed to Waypoint constructor");if(!t.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+i,this.options=e.Adapter.extend({},e.defaults,t),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=t.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,i+=1}var i=0,n={};e.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},e.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(t){var e=[];for(var i in n)e.push(n[i]);for(var s=0,o=e.length;s<o;s++)e[s][t]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){for(var t in e.Context.refreshAll(),n)n[t].enabled=!0;return this},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(t){window.setTimeout(t,1e3/60)}function i(t){this.element=t,this.Adapter=v.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+s,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,s+=1,v.windowContext||(v.windowContext=!0,v.windowContext=new i(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var s=0,o={},v=window.Waypoint,t=window.onload;i.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},i.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(".waypoints"),delete o[this.key])},i.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,v.requestAnimationFrame(t))})},i.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||v.isTouch)&&(e.didScroll=!0,v.requestAnimationFrame(t))})},i.prototype.handleResize=function(){v.Context.refreshAll()},i.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var s=e[i],o=s.newScroll>s.oldScroll?s.forward:s.backward;for(var n in this.waypoints[i]){var r=this.waypoints[i][n];if(null!==r.triggerPoint){var a=s.oldScroll<r.triggerPoint,l=s.newScroll>=r.triggerPoint;(a&&l||!a&&!l)&&(r.queueTrigger(o),t[r.group.id]=r.group)}}}for(var h in t)t[h].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},i.prototype.innerHeight=function(){return this.element==this.element.window?v.viewportHeight():this.adapter.innerHeight()},i.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},i.prototype.innerWidth=function(){return this.element==this.element.window?v.viewportWidth():this.adapter.innerWidth()},i.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var s=0,o=t.length;s<o;s++)t[s].destroy()},i.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),s={};for(var o in this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var n=t[o];for(var r in this.waypoints[o]){var a,l,h,d,u=this.waypoints[o][r],c=u.options.offset,p=u.triggerPoint,f=0,m=null==p;u.element!==u.element.window&&(f=u.adapter.offset()[n.offsetProp]),"function"==typeof c?c=c.apply(u):"string"==typeof c&&(c=parseFloat(c),-1<u.options.offset.indexOf("%")&&(c=Math.ceil(n.contextDimension*c/100))),a=n.contextScroll-n.contextOffset,u.triggerPoint=Math.floor(f+a-c),l=p<n.oldScroll,h=u.triggerPoint>=n.oldScroll,d=!l&&!h,!m&&(l&&h)?(u.queueTrigger(n.backward),s[u.group.id]=u.group):!m&&d?(u.queueTrigger(n.forward),s[u.group.id]=u.group):m&&n.oldScroll>=u.triggerPoint&&(u.queueTrigger(n.forward),s[u.group.id]=u.group)}}return v.requestAnimationFrame(function(){for(var t in s)s[t].flushTriggers()}),this},i.findOrCreateByElement=function(t){return i.findByElement(t)||new i(t)},i.refreshAll=function(){for(var t in o)o[t].refresh()},i.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){t&&t(),i.refreshAll()},v.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},v.Context=i}(),function(){"use strict";function r(t,e){return t.triggerPoint-e.triggerPoint}function a(t,e){return e.triggerPoint-t.triggerPoint}function e(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},s=window.Waypoint;e.prototype.add=function(t){this.waypoints.push(t)},e.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},e.prototype.flushTriggers=function(){for(var t in this.triggerQueues){var e=this.triggerQueues[t],i="up"===t||"left"===t;e.sort(i?a:r);for(var s=0,o=e.length;s<o;s+=1){var n=e[s];(n.options.continuous||s===e.length-1)&&n.trigger([t])}}this.clearTriggerQueues()},e.prototype.next=function(t){this.waypoints.sort(r);var e=s.Adapter.inArray(t,this.waypoints);return e===this.waypoints.length-1?null:this.waypoints[e+1]},e.prototype.previous=function(t){this.waypoints.sort(r);var e=s.Adapter.inArray(t,this.waypoints);return e?this.waypoints[e-1]:null},e.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},e.prototype.remove=function(t){var e=s.Adapter.inArray(t,this.waypoints);-1<e&&this.waypoints.splice(e,1)},e.prototype.first=function(){return this.waypoints[0]},e.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},e.findOrCreate=function(t){return i[t.axis][t.name]||new e(t)},s.Group=e}(),function(){"use strict";function i(t){this.$element=s(t)}var s=window.jQuery,t=window.Waypoint;s.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,e){i.prototype[e]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[e].apply(this.$element,t)}}),s.each(["extend","inArray","isEmptyObject"],function(t,e){i[e]=s[e]}),t.adapters.push({name:"jquery",Adapter:i}),t.Adapter=i}(),function(){"use strict";function t(s){return function(){var e=[],i=arguments[0];return s.isFunction(arguments[0])&&((i=s.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var t=s.extend({},i,{element:this});"string"==typeof t.context&&(t.context=s(this).closest(t.context)[0]),e.push(new o(t))}),e}}var o=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(n){var r=function(t,e){this.$element=n(t),this.options=n.extend({},r.DEFAULTS,this.dataOptions(),e),this.init()};r.DEFAULTS={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:function(t,e){return t.toFixed(e.decimals)},onUpdate:null,onComplete:null},r.prototype.init=function(){this.value=this.options.from,this.loops=Math.ceil(this.options.speed/this.options.refreshInterval),this.loopCount=0,this.increment=(this.options.to-this.options.from)/this.loops},r.prototype.dataOptions=function(){var t={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")},e=Object.keys(t);for(var i in e){var s=e[i];void 0===t[s]&&delete t[s]}return t},r.prototype.update=function(){this.value+=this.increment,this.loopCount++,this.render(),"function"==typeof this.options.onUpdate&&this.options.onUpdate.call(this.$element,this.value),this.loopCount>=this.loops&&(clearInterval(this.interval),this.value=this.options.to,"function"==typeof this.options.onComplete&&this.options.onComplete.call(this.$element,this.value))},r.prototype.render=function(){var t=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(t)},r.prototype.restart=function(){this.stop(),this.init(),this.start()},r.prototype.start=function(){this.stop(),this.render(),this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)},r.prototype.stop=function(){this.interval&&clearInterval(this.interval)},r.prototype.toggle=function(){this.interval?this.stop():this.start()},n.fn.countTo=function(o){return this.each(function(){var t=n(this),e=t.data("countTo"),i="object"==typeof o?o:{},s="string"==typeof o?o:"start";(!e||"object"==typeof o)&&(e&&e.stop(),t.data("countTo",e=new r(this,i))),e[s].call(e)})}}),JPI.SlideShow=function(t){"use strict";var a=this;return this.getXPosition=function(t){return t.changedTouches?t.changedTouches[0].clientX:t.clientX},this.removeSelector=function(t){return t.substring(1)},this.options=jQuery.extend({selector:".slide-show",viewportSelector:".slide-show__viewport",slidesContainerSelector:".slide-show__slides",slideSelector:".slide-show__slide",bulletsSelector:".slide-show__bullets",bulletSelector:".slide-show__bullet",navSelector:".slide-show__nav",slidesPerView:1,durationPerSlide:5e3,autoplay:!0,loop:!0},t||{}),this.options.activeSlideClass=this.removeSelector(this.options.slideSelector)+"--active",this.options.bulletSelector&&(this.options.activeBulletClass=this.removeSelector(this.options.bulletSelector)+"--active"),this.$slideShow,this.$viewport,this.$container,this.$slides,this.$bulletsContainer,this.$bullets,this.$navs,this.interval,this.getConfig=function(t){return window.innerWidth>=JPI.getInt(JPI.breakpoints.desktop)&&this.options.breakpoints&&this.options.breakpoints.desktop&&this.options.breakpoints.desktop[t]?this.options.breakpoints.desktop[t]:window.innerWidth>=JPI.getInt(JPI.breakpoints.tablet)&&this.options.breakpoints&&this.options.breakpoints.tablet&&this.options.breakpoints.tablet[t]?this.options.breakpoints.tablet[t]:this.options[t]},this.resetTransition=function(){this.$container.css("transition-duration","")},this.widenSlideShow=function(){var t=this.$viewport.innerWidth(),e=this.$slides.length,i=t*e,s=this.getConfig("slidesPerView");if(1<s){if(t/=s,s%2==0){i=t*e+t/2;var o=t/2}else{i=t*e+t;o=t}this.$slides.first().css("margin-left",o)}this.$slides.css("width",t+"px"),this.$container.css("width",i+"px")},this.getPosition=function(t){var e=0,i=this.getConfig("slidesPerView");return 1<i&&!t.is(":first-child")&&(e=t.innerWidth(),i%2==0&&(e/=2)),"-"+(t.position().left-e)+"px"},this.resetToCurrentSlide=function(){var t=this.$slideShow.find("."+this.options.activeSlideClass);this.$container.css({transitionDuration:"0s",left:this.getPosition(t)}),this.resetTransition()},this.repositionSlides=function(){this.widenSlideShow(),this.resetToCurrentSlide()},this.setupNav=function(){if(this.$navs&&!this.options.loop){var t=this.$slideShow.find("."+this.options.activeSlideClass);this.$navs.filter("[data-direction='previous']").attr("disabled",t.is(":first-child")),this.$navs.filter("[data-direction='next']").attr("disabled",t.is(":last-child"))}},this.moveToSlide=function(t){var e=this.$slideShow.find("."+this.options.activeSlideClass);if(e.removeClass(this.options.activeSlideClass),this.$bullets&&this.$bullets.filter("."+this.options.activeBulletClass).removeClass(this.options.activeBulletClass),t.addClass(this.options.activeSlideClass),this.$container.css("left",this.getPosition(t)),this.$bullets){var i=t.attr("id");this.$bullets.filter("[data-slide-id='#"+i+"']").addClass(this.options.activeBulletClass)}this.setupNav(),JPI.getFocusableChildren(e).attr("tabindex",-1),JPI.getFocusableChildren(t).attr("tabindex","")},this.move=function(t){var e,i=this.$slideShow.find("."+this.options.activeSlideClass);"previous"===t?!(e=i.prev()).length&&this.options.loop&&(e=this.$slides.last()):!(e=i.next()).length&&this.options.loop&&(e=this.$slides.first()),e.length?this.moveToSlide(e):this.resetToCurrentSlide()},this.onSlideDrag=function(t){var e,i,s=this.$container[0],o=this.$container.position().left,n=this.getXPosition(t),r=function(){s.removeEventListener("touchmove",e),s.removeEventListener("mousemove",e),s.removeEventListener("touchend",i),s.removeEventListener("mouseup",i),s.removeEventListener("mouseleave",i)};e=function(t){var e=a.getXPosition(t),i=n-e;a.$container.css({transitionDuration:"0s",left:o-i+"px"})},i=function(t){var e=a.getXPosition(t),i=n-e;if(15<=Math.abs(i))return a.resetTransition(),a.move(i<0?"previous":"next"),a.options.autoplay&&a.resume(),void r();a.resetToCurrentSlide(),a.options.autoplay&&a.resume(),r()},this.pause(),s.addEventListener("touchmove",e),s.addEventListener("mousemove",e),s.addEventListener("touchend",i),s.addEventListener("mouseup",i),s.addEventListener("mouseleave",i)},this.pause=function(){clearInterval(this.interval)},this.stop=function(){var t=this.$container[0];t.removeEventListener("mousedown",this.onSlideDrag),t.removeEventListener("touchstart",this.onSlideDrag),clearInterval(this.interval)},this.resume=function(){this.interval=setInterval(function(){a.move("next")},this.options.durationPerSlide)},this.changeToSlide=function(t){var e=jQuery(t.target).attr("data-slide-id"),i=this.$slideShow.find(e);this.pause(),this.moveToSlide(i),this.options.autoplay&&this.resume()},this.navigate=function(t){this.pause(),this.move(jQuery(t.target).attr("data-direction")),this.options.autoplay&&this.resume()},this.start=function(){this.$bullets&&this.$bullets.off("click",this.changeToSlide),this.$navs&&this.$navs.off("click",this.navigate),this.$slideShow=jQuery(this.options.selector),this.$viewport=this.$slideShow.find(this.options.viewportSelector),this.$container=this.$slideShow.find(this.options.slidesContainerSelector),this.$slides=this.$slideShow.find(this.options.slideSelector),this.options.bulletsSelector&&this.options.bulletSelector&&(this.$bulletsContainer=this.$slideShow.find(this.options.bulletsSelector),this.$bullets=this.$slideShow.find(this.options.bulletSelector),this.$bullets.on("click",this.changeToSlide.bind(this))),this.$navs=this.$slideShow.find(this.options.navSelector),this.$navs&&this.$navs.on("click",this.navigate.bind(this)),jQuery(window).on("orientationchange resize",JPI.debounce(this.repositionSlides.bind(this),150));var t=this.$slides.length;if(t<=0)return this.$bulletsContainer&&this.$bulletsContainer.hide(),void(this.$navs&&this.$navs.hide());var e=this.$slides.first(),i=this.$slides.not(e);JPI.getFocusableChildren(i).attr("tabindex",-1),e.addClass(this.options.activeSlideClass),this.$bullets&&this.$bullets.first().addClass(this.options.activeBulletClass),1<t&&(this.widenSlideShow(),this.$bulletsContainer&&this.$bulletsContainer.show(),this.$navs&&(this.$navs.show(),this.setupNav()),this.$container[0].addEventListener("mousedown",this.onSlideDrag.bind(this)),this.$container[0].addEventListener("touchstart",this.onSlideDrag.bind(this)),this.options.autoplay&&this.resume())},{start:this.start.bind(this),pause:this.pause.bind(this),resume:this.resume.bind(this),stop:this.stop.bind(this)}},JPI.templating=new function(){"use strict";return this.moustaches={},this.getMoustache=function(t){return this.moustaches[t]||(this.moustaches[t]=new RegExp("{{2} ?"+t+" ?}{2}","g")),this.moustaches[t]},{getMoustache:this.getMoustache.bind(this)}},JPI.Template=function(){"use strict";return function(r,t){this.context=t||{},this.replace=function(t,e){var i=typeof e;if("string"==i||"number"==i){var s=JPI.templating.getMoustache(t);r=r.replace(s,e)}else if("object"==i)for(var o in e)if({}.hasOwnProperty.call(e,o)){var n=t?t+"."+o:o;r=this.replace(n,e[o])}return r},this.process=function(t){t&&this.replace(null,t)},this.get=function(){return this.process(t),r},this.renderIn=function(t){t.append(this.get())}}}(),JPI.ajax=new function(){"use strict";return this.checkAndRenderError=function(t,e,i){var s=i||"";t&&(t.error?s=t.error:t.message&&(s=t.message)),s&&e(s)},this.renderRowsOrError=function(t,e,i,s){if(t&&t.data&&t.data.length){for(var o=0;o<t.data.length;o++)({}).hasOwnProperty.call(t.data,o)&&e(t.data[o]);return!0}return this.checkAndRenderError(t,i,s),!1},this.request=function(t){return jQuery.ajax({url:t.url,method:t.method.toUpperCase(),data:t.data,dataType:"json",success:t.onSuccess,error:function(){t.onError("Error Loading Content.")}})},{renderRowsOrError:this.renderRowsOrError.bind(this),request:this.request.bind(this)}},new function(){"use strict";this.$items=jQuery(".timeline__item"),this.setItemHeights=function(){this.$items.css("height","");var s=0;this.$items.each(function(t,e){var i=jQuery(e).outerHeight(!0);s<i&&(s=i)}),this.$items.css("height",2*s)},this.init=function(){this.setItemHeights(),new JPI.SlideShow({selector:".timeline",viewportSelector:".timeline__viewport",slidesContainerSelector:".timeline__items",slideSelector:".timeline__item",bulletsSelector:!1,bulletSelector:!1,navSelector:".timeline__nav",slidesPerView:2,autoplay:!1,loop:!1,breakpoints:{desktop:{slidesPerView:3}}}).start()},jQuery(window).on("resize",this.setItemHeights.bind(this)),jQuery(window).on("load",this.init.bind(this))},new function(){"use strict";var o=this;this.$items=jQuery(".skill--expandable"),this.$expandableContents=jQuery(".skill__description"),this.$expandableIcons=jQuery(".skill__toggle"),this.toggleContent=function(t){var e=jQuery(this),i=e.find(".skill__description"),s=e.find(".skill__toggle");o.$expandableContents.not(i).slideUp(),o.$expandableIcons.not(s).addClass("fa-plus").removeClass("fa-minus"),s.toggleClass("fa-plus"),s.toggleClass("fa-minus"),i.slideToggle()},this.$items.on("click",this.toggleContent)},new function(){"use strict";var t=this;this.$map=jQuery(".js-map"),this.initMap=function(){var t=new google.maps.LatLng(50.7842,-.674),e={center:t,zoom:12,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,styles:JPI.googleMapStyles||{}},i=new google.maps.Map(this.$map[0],e);new google.maps.Marker({position:t,icon:window.location.origin+"/assets/images/marker.png",map:i}),google.maps.event.addDomListener(window,"resize",function(){i.setCenter(t)})},jQuery(function(){google.maps.event.addDomListener(window,"load",t.initMap.bind(t))})},new function(){"use strict";var t=this;this.$form=jQuery(".contact-form"),this.$inputs=this.$form.find(".input"),this.$email=jQuery(".contact-form__email"),this.$message=jQuery(".contact-form__message"),this.$subject=jQuery(".contact-form__subject"),this.$emailFeedback=jQuery(".contact-form__email-feedback"),this.$messageFeedback=jQuery(".contact-form__message-feedback"),this.$feedback=jQuery(".contact-form__feedback"),this.$submit=jQuery(".contact-form__submit"),this.reset=function(){this.$inputs.attr("disabled",!1),this.$submit.prop("disabled",!1).html(this.$submit.attr("data-initial-text"))},this.renderResponse=function(t){this.reset(),t.ok?(t.feedback&&this.$feedback.removeClass("field__error").addClass("field__feedback"),this.$inputs.val(""),this.$form.find(".field").hide(),this.$submit.hide()):(t.feedback&&this.$feedback.removeClass("field__feedback").addClass("field__error"),t.messageFeedback&&this.$messageFeedback.text(t.messageFeedback).show(200),t.emailAddressFeedback&&this.$emailFeedback.text(t.emailAddressFeedback).show(200)),t.feedback&&this.$feedback.text(t.feedback).show(200)},this.renderErrorMessage=function(){this.$feedback.text("Something went wrong, please try again later.").removeClass("field__feedback").addClass("field__error").show(200),this.reset()},this.validateEmail=function(t){var e=this.$email.val();if(this.$feedback.hide(200),this.$email.removeClass("input--valid"),""===e.trim())return t&&(this.$email.addClass("input--invalid"),this.$emailFeedback.text("Email address must be provided and valid.").show(200)),!1;return/\b[\w._-]+@[\w-]+.[\w]{2,}\b/im.test(e)?(this.$email.removeClass("input--invalid").addClass("input--valid"),this.$emailFeedback.hide(200),!0):(t&&(this.$email.addClass("input--invalid"),this.$emailFeedback.text("Email address must be valid.").show(200)),!1)},this.validateMessage=function(t){var e=this.$message.val();return this.$feedback.hide(200),this.$message.removeClass("input--valid"),""!==e.trim()?(this.$message.removeClass("input--invalid").addClass("input--valid"),this.$messageFeedback.hide(200),!0):(t&&(this.$message.addClass("input--invalid"),this.$messageFeedback.text("Message must be filled out.").show(200)),!1)},this.submit=function(){this.$inputs.attr("disabled",!0),this.$submit.prop("disabled",!0).html(this.$submit.attr("data-loading-text"));var t=this.validateEmail(!0),e=this.validateMessage(!0);return t&&e?JPI.ajax.request({method:"POST",url:"/contact/",data:{emailAddress:this.$email.val(),subject:this.$subject.val(),message:this.$message.val()},onSuccess:this.renderResponse.bind(this),onError:this.renderErrorMessage.bind(this)}):this.reset(),!1},this.initListeners=function(){this.$subject.on("keyup",function(){t.$feedback.hide(200)}),this.$email.on("input",function(){t.validateEmail()}),this.$message.on("input",function(){t.validateMessage()}),this.$form.on("submit",this.submit.bind(this))},this.initListeners()},JPI.api=function(){"use strict";var i=new Intl.DateTimeFormat("default",{month:"long",year:"numeric"});return{formatProjectData:function(t){if(t.date){var e=new Date(t.date);t.date=i.format(e)}return t}}}(),function(){"use strict";var i,e=jQuery(".latest-projects__loading"),s=jQuery(".latest-projects__error"),a=jQuery(".slide-show__slides"),l=jQuery(".slide-show__bullets"),h=jQuery("#slide-template").text(),d=jQuery("#slide-bullet-template").text(),o=function(t){s.text(t).show(200),e.hide(200)},n=function(t){t=JPI.api.formatProjectData(t);var e=new JPI.Template(h),i=new JPI.Template(d);for(var s in t)if({}.hasOwnProperty.call(t,s)){var o=t[s];e.replace(s,o),i.replace(s,o)}e.renderIn(a),i.renderIn(l);var n="#slide-"+t.id,r=jQuery(n);t.images&&t.images.length&&t.images[0]||r.find(".slide-show__image").remove()},t=function(t){(s.text("").hide(200),e.hide(200),JPI.ajax.renderRowsOrError(t,n,o,"Error Getting the Projects."))&&new JPI.SlideShow({selector:"#latest-projects"}).start()},r=function(t,e){return e=e||{},t=(t=t.toFixed(e.decimals||0)).replace(/\B(?=(\d{3})+(?!\d))/g,",")};e.show(200),i={formatter:r},jQuery(".js-counters").waypoint(function(){jQuery(this.element).find(".js-counter").each(function(t,e){jQuery(e).countTo(i)})},{offset:"95%"}),jQuery(window).on("jpi-css-loaded",function(){JPI.ajax.request({method:"GET",url:JPI.projects.apiEndpoint+"/projects/",data:{limit:3},onSuccess:t,onError:o})})}();